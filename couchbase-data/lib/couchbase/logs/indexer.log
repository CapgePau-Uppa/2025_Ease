2025-03-28T08:48:37.483+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:48:37.484+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:48:37.515+00:00 [Info] Setting ipv6=false
2025-03-28T08:48:37.544+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:48:37.573+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:48:37.590+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:48:37.590+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:48:37.590+00:00 [Info] Setting log level to Info
2025-03-28T08:48:37.590+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:48:37.590+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:48:37.592+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:48:37.592+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:48:37.606+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025/03/28 08:48:37 audit: created new audit service
2025-03-28T08:48:37.780+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:48:37.781+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:48:37.781+00:00 [Info] TLS config refreshed successfully
2025-03-28T08:48:37.901+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:48:37.902+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:48:37.902+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:48:38.078+00:00 [Info] security context initialized
2025-03-28T08:48:38.078+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:48:38.083+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:48:38.083+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:48:38.083+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:48:38.083+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:48:38.086+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:48:38.087+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:48:38.087+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:48:38.095+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:48:38.100+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:48:38.143+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:48:38.144+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:48:38.151+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:48:38.151+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:48:38.144+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:48:38.152+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:48:38.211+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:48:38.262+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:48:38.270+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:48:38.273+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:48:38.289+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:48:38.302+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:48:38.306+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:48:38.306+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:48:38.306+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:48:38.318+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 263 us

2025-03-28T08:48:38.317+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:48:38.375+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:48:38.396+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:48:38.449+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:48:38.461+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 54] will report aggregate recorder stats every 5m0s 
2025-03-28T08:48:38.514+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:48:38.514+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:48:38.514+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:48:38.514+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:48:38.516+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:48:38.516+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerId Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:38.531+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:38.531+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:48:38.531+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:48:38.531+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:48:38.531+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:48:38.531+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:48:38.531+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:48:38.552+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 20.750791ms
2025-03-28T08:48:38.552+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:38.552+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:48:38.552+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:48:38.552+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:48:38.553+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:48:38.554+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:48:38.555+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:38.553+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:48:38.569+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:48:38.576+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T08:48:38.576+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused from 127.0.0.1:9999
2025-03-28T08:48:38.599+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:48:38.599+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:48:38.600+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:48:38.600+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:38.601+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:48:38.601+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:48:38.601+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:48:38.612+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:48:38.612+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:48:38.613+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:48:38.614+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:48:39.601+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:39.615+00:00 [Error] KVSender::closeMutationStream, MAINT_STREAM  Error from Projector Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T08:48:39.615+00:00 [Warn] Indexer::closeAllStreams Stream MAINT_STREAM Projector health check needed, indexer can not proceed, Error received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused. Retrying (1).
2025-03-28T08:48:40.602+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:41.603+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:42.604+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:43.605+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:44.605+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:48:44.616+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:44.629+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:48:44.629+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:48:44.629+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:48:44.629+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:44.630+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:48:44.630+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:48:44.630+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:48:44.630+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:48:44.679+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:48:44.682+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:48:44.694+00:00 [Warn] Encountered error while reading persisted stats. Skipping read. Error: open /opt/couchbase/var/lib/couchbase/data/@2i/indexstats/stats: no such file or directory
2025-03-28T08:48:44.694+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:48:44.694+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:48:44.695+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:48:44.695+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:48:44.712+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:48:44.712+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:48:44.712+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:48:44.712+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:48:44.712+00:00 [Info] progress stats collection done.
2025-03-28T08:48:44.712+00:00 [Info] send progress stats to clients
2025-03-28T08:48:44.712+00:00 [Info] Indexer::ReadMemstats Time Taken 217.519µs
2025-03-28T08:48:44.723+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:48:44.723+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.724+00:00 [Info] MapSettings: config before mapping: {"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.725+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.736+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:48:44.736+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:48:44.736+00:00 [Info] settingsManager::metakvCallback triggered for path /indexing/settings/config (rev [131 104 2 97 0 108 0 0 0 1 104 2 109 0 0 0 32 101 51 97 56 99 55 98 54 49 53 56 98 48 97 100 54 101 51 56 53 54 55 98 101 51 101 50 51 51 100 57 98 104 2 97 4 110 5 0 108 222 90 225 14 106])
2025-03-28T08:48:44.736+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.737+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.737+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:48:44.737+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:48:44.737+00:00 [Info] Setting log level to Info
2025-03-28T08:48:44.737+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:48:44.754+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:48:44.754+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:48:44.754+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:48:44.774+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:48:44.774+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:48:44.788+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:48:44.789+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:48:44.789+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:48:44.789+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:48:44.790+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:48:44.793+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 2.998063ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:50:16.073+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:50:16.073+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:50:16.157+00:00 [Info] Setting ipv6=false
2025-03-28T08:50:16.175+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:50:16.178+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:50:16.207+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:50:16.207+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:50:16.207+00:00 [Info] Setting log level to Info
2025-03-28T08:50:16.207+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:50:16.207+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:50:16.207+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:50:16.207+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:50:16.220+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:50:17.074+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 8] will report aggregate recorder stats every 5m0s 
2025/03/28 08:50:17 audit: created new audit service
2025-03-28T08:50:17.648+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:50:17.649+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:50:17.649+00:00 [Info] TLS config refreshed successfully
2025-03-28T08:50:17.768+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:50:17.768+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:50:17.768+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:50:17.802+00:00 [Info] security context initialized
2025-03-28T08:50:17.802+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:50:17.802+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:50:17.802+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:50:17.802+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:50:17.802+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:50:17.815+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:50:17.815+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:50:17.815+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:50:17.817+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:50:17.831+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:50:17.831+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:50:17.836+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:50:17.837+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:50:17.819+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:50:17.867+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:50:17.868+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:50:17.869+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:17.903+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:50:17.904+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:50:17.904+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:50:17.907+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:50:17.909+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:50:17.909+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:50:17.909+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:50:17.909+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:50:17.923+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:50:17.923+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 149 us

2025-03-28T08:50:17.960+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:50:17.980+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:50:17.982+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:50:18.057+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:50:18.057+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:50:18.057+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:50:18.057+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:50:18.057+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:50:18.065+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:18.065+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:50:18.065+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:50:18.065+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:50:18.065+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:50:18.070+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:50:18.070+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:50:18.086+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 15.865903ms
2025-03-28T08:50:18.086+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:18.086+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:50:18.086+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:50:18.086+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:50:18.086+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:50:18.086+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:50:18.087+00:00 [Error] RebalanceServiceManager::getCachedIndexerNodeUUIDs: 127.0.0.1:9102/getCachedIndexerNodeUUIDs returned err: Unable to find given hostport in cbauth database: `127.0.0.1:9102'
2025-03-28T08:50:18.087+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:50:18.094+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:50:18.094+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:50:18.097+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:18.097+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:50:18.097+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.101+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:50:18.104+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:50:18.132+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:50:18.132+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:50:18.132+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:50:18.132+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:18.133+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:50:18.133+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:50:18.133+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:50:18.133+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:50:18.145+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:50:18.145+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:50:18.147+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:50:18.148+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:50:18.148+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:50:18.168+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:50:18.170+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:50:18.173+00:00 [Info] RebalanceServiceManager::PrepareTopologyChange {5f97bbf55e32808a71519de56d65c1d2 [] topology-change-rebalance [{{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>} recovery-full}] []}
2025-03-28T08:50:18.188+00:00 [Info] Indexer::run:msg_loop: INDEXER_CHECK_DDL_IN_PROGRESS message from wrkrPrioRecvCh channel processing took 3.001µs
2025-03-28T08:50:18.188+00:00 [Info] RebalanceServiceManager::prepareRebalance: Found DDL Running [] false
2025-03-28T08:50:18.188+00:00 [Info] RebalanceServiceManager::prepareRebalance: Init Prepare Phase
2025-03-28T08:50:18.188+00:00 [Info] LifecycleMgr::canAllowDDLDuringRebalance Disallowing DDL as config: allowDDLDuringRebalance is false
2025-03-28T08:50:18.188+00:00 [Info] ClustMgr:handleSetLocalValue Key RebalanceRunning Value 
2025-03-28T08:50:18.198+00:00 [Info] Indexer:clearRebalancePhase Clearing book-keeping on rebalance done
2025-03-28T08:50:18.199+00:00 [Info] ClustMgr:handleRebalanceRunning mType: CLUST_MGR_REBALANCE_RUNNING indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:50:18.199+00:00 [Info] Indexer::run:msg_loop: CLUST_MGR_SET_LOCAL message from wrkrPrioRecvCh channel processing took 11.264497ms
2025-03-28T08:50:18.199+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:50:18.200+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:50:18.200+00:00 [Info] schedIndexCreator::stopProcessDDL done
2025-03-28T08:50:18.200+00:00 [Info] RebalanceServiceManager::PrepareTopologyChange Success. isBalanced true
2025-03-28T08:50:18.200+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.200+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:18.200+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_REBALANCE_RUNNING elapsed 17.201µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:50:18.210+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:18.210+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:50:18.219+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:18.221+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:18.222+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:18.227+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:50:18.227+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:50:18.230+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:50:18.230+00:00 [Info] Setting log level to Info
2025-03-28T08:50:18.245+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:50:18.240+00:00 [Info] RebalanceServiceManager::StartTopologyChange: change: {5f97bbf55e32808a71519de56d65c1d2 [] topology-change-rebalance [{{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>} recovery-full}] []}
2025-03-28T08:50:18.251+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:50:18.251+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:50:18.254+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:50:18.254+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:50:18.263+00:00 [Info] Indexer::ReadMemstats Time Taken 7.249141ms
2025-03-28T08:50:18.267+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:18.280+00:00 [Info] RebalanceServiceManager::cleanupSettingsShardAffinityPath Cleaning up shard affinity settings path as cluster version is: 9
2025-03-28T08:50:18.296+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:50:18.296+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:50:18.296+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:50:18.296+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:50:18.296+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:50:18.296+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:50:18.296+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:50:18.296+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:50:18.296+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:50:18.301+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 2.962662ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:50:18.302+00:00 [Info] progress stats collection done.
2025-03-28T08:50:18.302+00:00 [Info] send progress stats to clients
2025-03-28T08:50:18.302+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:50:18.318+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:50:18.325+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:50:18.325+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:50:18.341+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:50:18.413+00:00 [Info] ClustMgr:handleSetLocalValue Key RebalanceToken Value {"MasterId":"e3a8c7b6158b0ad6e38567be3e233d9b","RebalId":"5f97bbf55e32808a71519de56d65c1d2","Source":0,"Error":"","MasterIP":"127.0.0.1","Version":0,"RebalPhase":0,"ActiveRebalancer":1}
2025-03-28T08:50:18.420+00:00 [Info] RebalanceServiceManager::registerLocalRebalanceToken: Registered Rebalance Token In Local Meta &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP}
2025-03-28T08:50:18.427+00:00 [Info] RebalanceServiceManager::registerRebalanceTokenInMetakv: Registered Global Rebalance Token In Metakv &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP}
2025-03-28T08:50:18.427+00:00 [Info] RebalanceServiceManager::registerGlobalRebalanceToken Skip local service 127.0.0.1:9102
2025-03-28T08:50:18.427+00:00 [Info] NewRebalancer nodeId e3a8c7b6158b0ad6e38567be3e233d9b rebalToken &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP} master true localaddr 127.0.0.1:9102 runPlanner true runParam &{false [] false} clusterVersion 9
2025-03-28T08:50:18.427+00:00 [Info] RebalanceServiceManager::StartTopologyChange: returns Error <nil>. isBalanced true.
2025-03-28T08:50:18.428+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 1] call. taskList: &{Rev:[0 0 0 0 0 0 0 2] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]} {Rev:[0 0 0 0 0 0 0 0] ID:rebalance/5f97bbf55e32808a71519de56d65c1d2 Type:task-rebalance Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:18.428+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 2] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.428+00:00 [Info] Rebalancer::updateProgress for RebalID: 5f97bbf55e32808a71519de56d65c1d2 goroutine started
2025-03-28T08:50:18.450+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:50:18.450+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 2] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.450+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:50:18.450+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 2] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]} {Rev:[0 0 0 0 0 0 0 0] ID:rebalance/5f97bbf55e32808a71519de56d65c1d2 Type:task-rebalance Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:18.457+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 2]
2025-03-28T08:50:18.458+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 2]
2025-03-28T08:50:18.462+00:00 [Info] Rebalancer::computeProgress for RebalID: 5f97bbf55e32808a71519de56d65c1d2 progress NaN
2025-03-28T08:50:18.464+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 2] call. taskList: &{Rev:[0 0 0 0 0 0 0 3] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]} {Rev:[0 0 0 0 0 0 0 1] ID:rebalance/5f97bbf55e32808a71519de56d65c1d2 Type:task-rebalance Status:task-running IsCancelable:true Progress:0.1 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:18.464+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 3] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.470+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 3]
2025-03-28T08:50:18.471+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 3]
2025-03-28T08:50:18.495+00:00 [Info] Rebalancer::initRebalAsync Global Topology &{[{e3a8c7b6158b0ad6e38567be3e233d9b e3a8c7b6158b0ad6e38567be3e233d9b plasma map[] [] [] 0 0 0 false}] map[]}
2025-03-28T08:50:18.636+00:00 [Info] DDLServiceMgr::handleListCreateTokens Processing Request req: Method GET, Host 127.0.0.1:9102, ContentLength 0, UserAgent Go-http-client/1.1, RemoteAddr 127.0.0.1:40374
2025-03-28T08:50:18.645+00:00 [Info] Planner::processCreateToken: There is no create token to process for node: 127.0.0.1:8091
2025-03-28T08:50:18.645+00:00 [Info] DDLServiceMgr::handleListGenericTokenPaths Processing Request caller: handleListDeleteTokenPaths, req: Method GET, Host 127.0.0.1:9102, ContentLength 0, UserAgent Go-http-client/1.1, RemoteAddr 127.0.0.1:40374
2025-03-28T08:50:18.647+00:00 [Info] Planner::processDeleteToken: There is no delete token to process for node: 127.0.0.1:8091
2025-03-28T08:50:18.647+00:00 [Info] DDLServiceMgr::handleListDropInstanceTokens Processing Request req: Method GET, Host 127.0.0.1:9102, ContentLength 0, UserAgent Go-http-client/1.1, RemoteAddr 127.0.0.1:40374
2025-03-28T08:50:18.649+00:00 [Info] Planner::processDropInstanceToken: There is no drop instance token to process for node: 127.0.0.1:8091
2025-03-28T08:50:18.654+00:00 [Info] ************ Index Layout Before Rebalance *************
2025-03-28T08:50:18.654+00:00 [Info] 
2025-03-28T08:50:18.654+00:00 [Info] Indexer serverGroup:Group 1, nodeId:127.0.0.1:8091, nodeUUID:e3a8c7b6158b0ad6e38567be3e233d9b, useLiveData:true
2025-03-28T08:50:18.654+00:00 [Info] Indexer total memory:0 (0), mem:0 (0), overhead:0 (0), min:0 (0), data:0 (0) cpu:0.0000, io:0 (0), scan:0 drain:0 numIndexes:0 shardCompatVersion: 1
2025-03-28T08:50:18.654+00:00 [Info] Indexer isDeleted:false isNew:false exclude: meetConstraint:true usageRatio:0 allowDDLDuringScaleup:false
2025-03-28T08:50:18.654+00:00 [Info] ****************************************
2025-03-28T08:50:18.654+00:00 [Info] Planner::planSingleRun Initial variance of the solution: NaN
2025-03-28T08:50:18.654+00:00 [Info] Planner::initial temperature: initial resource variation NaN temp NaN
2025-03-28T08:50:18.654+00:00 [Info] ************ Indexer Layout *************
2025-03-28T08:50:18.654+00:00 [Info] Score: NaN
2025-03-28T08:50:18.654+00:00 [Info] variation: NaN
2025-03-28T08:50:18.654+00:00 [Info] ElapsedTime: 11us
2025-03-28T08:50:18.654+00:00 [Info] ConvergenceTime: 100ns
2025-03-28T08:50:18.654+00:00 [Info] Iteration: 0
2025-03-28T08:50:18.654+00:00 [Info] Move: 0
2025-03-28T08:50:18.654+00:00 [Info] ----------------------------------------
2025-03-28T08:50:18.654+00:00 [Info] Using SAPlanner
2025-03-28T08:50:18.654+00:00 [Info] Indexer Memory Mean 0 (0)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Memory Deviation 0 (0) (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Memory Utilization 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer CPU Mean 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer CPU Deviation 0.00 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Indexer CPU Utilization 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer IO Mean 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer IO Deviation 0.00 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Drain Rate Mean 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer Drain Rate Deviation 0.00 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Scan Rate Mean 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Indexer Scan Rate Deviation 0.00 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Data Size Mean 0 (0)
2025-03-28T08:50:18.654+00:00 [Info] Indexer Data Size Deviation 0 (0) (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] Total Index Data (from non-deleted node) 0
2025-03-28T08:50:18.654+00:00 [Info] Index Data Moved (exclude new node) 0 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] No. Index (from non-deleted node) 0
2025-03-28T08:50:18.654+00:00 [Info] No. Index Moved (exclude new node) 0 (0.00%)
2025-03-28T08:50:18.654+00:00 [Info] ----------------------------------------
2025-03-28T08:50:18.654+00:00 [Info] Number of indexes: 0
2025-03-28T08:50:18.654+00:00 [Info] Number of indexers: 1
2025-03-28T08:50:18.654+00:00 [Info] Avg Index Size: 0 (0)
2025-03-28T08:50:18.654+00:00 [Info] Max Index Size: 0 (0)
2025-03-28T08:50:18.654+00:00 [Info] Max Indexer Overhead: 0 (0)
2025-03-28T08:50:18.654+00:00 [Info] Avg Index Cpu: 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Max Index Cpu: 0.0000
2025-03-28T08:50:18.654+00:00 [Info] Num Estimation Run: 0
2025-03-28T08:50:18.654+00:00 [Info] ----------------------------------------
2025-03-28T08:50:18.654+00:00 [Info] Memory Quota 268435456 (256M)
2025-03-28T08:50:18.654+00:00 [Info] CPU Quota 4
2025-03-28T08:50:18.654+00:00 [Info] Max Cpu Utilization -1
2025-03-28T08:50:18.654+00:00 [Info] Max Memory Utilization -1
2025-03-28T08:50:18.654+00:00 [Info] ----------------------------------------
2025-03-28T08:50:18.654+00:00 [Info] Total iteration: 0
2025-03-28T08:50:18.654+00:00 [Info] RandomSwap time: 0ns
2025-03-28T08:50:18.654+00:00 [Info] RandomSwap call: 0
2025-03-28T08:50:18.654+00:00 [Info] RandomSwap iteration: 0
2025-03-28T08:50:18.654+00:00 [Info] RandomMove time: 0ns
2025-03-28T08:50:18.654+00:00 [Info] RandomMove call: 0 (empty index 0)
2025-03-28T08:50:18.654+00:00 [Info] ExhaustMove time: 0ns
2025-03-28T08:50:18.654+00:00 [Info] ExhaustMove call: 0
2025-03-28T08:50:18.654+00:00 [Info] ExhaustSwap time: 0ns
2025-03-28T08:50:18.654+00:00 [Info] ExhaustSwap call: 0
2025-03-28T08:50:18.654+00:00 [Info] ----------------------------------------
2025-03-28T08:50:18.654+00:00 [Info] 
2025-03-28T08:50:18.654+00:00 [Info] Indexer serverGroup:Group 1, nodeId:127.0.0.1:8091, nodeUUID:e3a8c7b6158b0ad6e38567be3e233d9b, useLiveData:true
2025-03-28T08:50:18.654+00:00 [Info] Indexer total memory:0 (0), mem:0 (0), overhead:0 (0), min:0 (0), data:0 (0) cpu:0.0000, io:0 (0), scan:0 drain:0 numIndexes:0 shardCompatVersion: 1
2025-03-28T08:50:18.654+00:00 [Info] Indexer isDeleted:false isNew:true exclude: meetConstraint:true usageRatio:0 allowDDLDuringScaleup:false
2025-03-28T08:50:18.654+00:00 [Info] ****************************************
2025-03-28T08:50:18.654+00:00 [Info] Rebalancer::initRebalAsync Planner Time Taken 159.336289ms
2025-03-28T08:50:18.655+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 3] call. taskList: &{Rev:[0 0 0 0 0 0 0 4] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]} {Rev:[0 0 0 0 0 0 0 2] ID:rebalance/5f97bbf55e32808a71519de56d65c1d2 Type:task-rebalance Status:task-running IsCancelable:true Progress:1 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:18.655+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 4] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:18.666+00:00 [Info] Rebalancer::doFinish cleanup started
2025-03-28T08:50:18.666+00:00 [Info] Rebalancer::processDropIndexQueue Done Received
2025-03-28T08:50:18.668+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 4]
2025-03-28T08:50:18.669+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 4]
2025-03-28T08:50:18.694+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:19.087+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:19.087+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:19.087+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:19.087+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 5] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:50:19.088+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 4] call. taskList: &{Rev:[0 0 0 0 0 0 0 5] Tasks:[{Rev:[0 0 0 0 0 0 0 0] ID:prepare/5f97bbf55e32808a71519de56d65c1d2 Type:task-prepared Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]} {Rev:[0 0 0 0 0 0 0 2] ID:rebalance/5f97bbf55e32808a71519de56d65c1d2 Type:task-rebalance Status:task-running IsCancelable:true Progress:1 DetailedProgress:map[] Description: ErrorMessage: Extra:map[rebalanceId:5f97bbf55e32808a71519de56d65c1d2]}]}
2025-03-28T08:50:49.101+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:50:49.101+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:50:49.111+00:00 [Info] Setting ipv6=false
2025-03-28T08:50:49.118+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:50:49.120+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:50:49.130+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:50:49.130+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:50:49.130+00:00 [Info] Setting log level to Info
2025-03-28T08:50:49.130+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:50:49.131+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:50:49.131+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:50:49.131+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:50:49.137+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:50:50.102+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 10] will report aggregate recorder stats every 5m0s 
2025-03-28T08:50:51.098+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:50:51.098+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:50:51.098+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:50:51 audit: created new audit service
2025-03-28T08:50:51.231+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:50:51.231+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:50:51.231+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:50:51.264+00:00 [Info] security context initialized
2025-03-28T08:50:51.264+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:50:51.264+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:50:51.264+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:50:51.264+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:50:51.264+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:50:51.269+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:50:51.270+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:50:51.270+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:50:51.277+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:50:51.284+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:50:51.284+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:50:51.286+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:50:51.287+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:50:51.291+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:50:51.298+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:50:51.298+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:51.298+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:50:51.351+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:50:51.351+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:50:51.352+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:50:51.353+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:50:51.372+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:50:51.373+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:50:51.373+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:50:51.373+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:50:51.571+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:50:51.586+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 163 us

2025-03-28T08:50:51.653+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:50:51.691+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:50:51.700+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:50:51.760+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:50:51.762+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:50:51.762+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:50:51.762+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:50:51.762+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:50:51.770+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:51.770+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:50:51.774+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:50:51.774+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning true RebalanceToken &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP}
2025-03-28T08:50:51.774+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:50:51.776+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:50:51.776+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:50:51.785+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 8.635319ms
2025-03-28T08:50:51.785+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:51.785+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:50:51.785+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:50:51.785+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager true &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP} 
2025-03-28T08:50:51.785+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:50:51.785+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:50:51.785+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:50:51.785+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:51.794+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:50:51.794+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:50:51.795+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:50:51.797+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:50:51.797+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:50:51.797+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:50:51.797+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:51.797+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:50:51.797+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:50:51.799+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:50:51.799+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:50:51.799+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:50:51.800+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:50:51.801+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:50:51.801+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:50:51.802+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:50:51.802+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:false Messages:[]}
2025-03-28T08:50:51.804+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:50:51.805+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:50:51.814+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:50:51.821+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:50:51.828+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:50:51.828+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:50:51.828+00:00 [Info] RebalanceServiceManager::recoverRebalance: Init Pending Cleanup
2025-03-28T08:50:51.828+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:50:51.830+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:51.831+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:51.831+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:50:51.831+00:00 [Info] RebalanceServiceManager::doRecoverRebalance Found Global Rebalance Token &{e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP}
2025-03-28T08:50:51.831+00:00 [Info] RebalanceServiceManager::runCleanupPhase path /indexing/rebalance/RebalanceToken isMaster true
2025-03-28T08:50:51.831+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:50:51.831+00:00 [Info] Setting log level to Info
2025-03-28T08:50:51.831+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:50:51.835+00:00 [Info] RebalanceServiceManager::cleanupGlobalRToken Delete Global Rebalance Token {e3a8c7b6158b0ad6e38567be3e233d9b 5f97bbf55e32808a71519de56d65c1d2 Rebalance  127.0.0.1 0 REBALANCE_NOT_RUNNING DCP}
2025-03-28T08:50:51.842+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:50:51.842+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:50:51.842+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:50:51.842+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:50:51.842+00:00 [Info] Indexer::ReadMemstats Time Taken 404.634µs
2025-03-28T08:50:51.845+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:50:51.845+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:50:51.850+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:50:51.850+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:50:51.850+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:50:51.850+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:50:51.850+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:50:51.850+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:50:51.850+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:50:51.850+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:50:51.850+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:50:51.852+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:50:51.853+00:00 [Info] progress stats collection done.
2025-03-28T08:50:51.853+00:00 [Info] send progress stats to clients
2025-03-28T08:50:51.866+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 5.938409ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T08:50:51.870+00:00 [Info] RebalanceServiceManager::cleanupLocalRToken Cleanup
2025-03-28T08:50:51.870+00:00 [Info] ClustMgr:handleDelLocalValue Key RebalanceToken
2025-03-28T08:50:51.880+00:00 [Info] RebalanceServiceManager::cleanupRebalanceRunning Cleanup
2025-03-28T08:50:51.881+00:00 [Info] ClustMgr:handleDelLocalValue Key RebalanceRunning
2025-03-28T08:50:51.881+00:00 [Info] IndexManager.RebalanceDone(): making request for rebalance done
2025-03-28T08:50:51.881+00:00 [Info] LifecycleMgr::handleRebalanceDone Clearing rebalance phase
2025-03-28T08:50:51.881+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_REBALANCE_DONE elapsed 39.703µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:50:51.889+00:00 [Info] Indexer:clearRebalancePhase Clearing book-keeping on rebalance done
2025-03-28T08:50:51.890+00:00 [Info] schedIndexCreator::startProcessDDL done
2025-03-28T08:50:51.890+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:50:51.890+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:50:51.953+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:54.200+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:50:54.205+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:50:56.787+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:56.787+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:56.787+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:50:56.787+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:false Messages:[]}
2025-03-28T08:50:56.787+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:50:56.789+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:50:56.789+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:51:33.345+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:51:33.346+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:51:33.357+00:00 [Info] Setting ipv6=false
2025-03-28T08:51:33.366+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:51:33.368+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:51:33.371+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:51:33.371+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:51:33.371+00:00 [Info] Setting log level to Info
2025-03-28T08:51:33.371+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:51:33.371+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:51:33.372+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:51:33.372+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:51:33.376+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:52:34.204+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:52:34.205+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:52:34.214+00:00 [Info] Setting ipv6=false
2025-03-28T08:52:34.227+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:52:34.230+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:52:34.242+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:52:34.242+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:52:34.242+00:00 [Info] Setting log level to Info
2025-03-28T08:52:34.243+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:52:34.243+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:52:34.245+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:52:34.246+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:52:34.251+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:52:35.205+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 67] will report aggregate recorder stats every 5m0s 
2025/03/28 08:52:36 audit: created new audit service
2025-03-28T08:52:36.019+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:52:36.019+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:52:36.019+00:00 [Info] TLS config refreshed successfully
2025-03-28T08:52:36.048+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:52:36.048+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:52:36.048+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:52:36.064+00:00 [Info] security context initialized
2025-03-28T08:52:36.064+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:52:36.064+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:52:36.064+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:52:36.064+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:52:36.064+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:52:36.074+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:52:36.074+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:52:36.074+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:52:36.078+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:52:36.078+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:52:36.079+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:52:36.080+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:52:36.088+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:52:36.100+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:52:36.101+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:52:36.101+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:52:36.120+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:52:36.126+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:52:36.126+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:52:36.127+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:52:36.129+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:52:36.133+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:52:36.133+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:52:36.133+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:52:36.133+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:52:36.137+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:52:36.139+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 76 us

2025-03-28T08:52:36.162+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:52:36.175+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:52:36.177+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:52:36.206+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:52:36.207+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:52:36.208+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:52:36.208+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:52:36.208+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:52:36.209+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:36.209+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:52:36.209+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:52:36.209+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:52:36.209+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:52:36.209+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:52:36.210+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:52:36.220+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 10.12142ms
2025-03-28T08:52:36.220+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:36.221+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:52:36.221+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:52:36.221+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:52:36.221+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:52:36.221+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:52:36.221+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:52:36.222+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:36.227+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:52:36.227+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:52:36.227+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:52:36.228+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:36.228+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:52:36.228+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:52:36.228+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:52:36.229+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:52:36.229+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:52:36.229+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:52:36.232+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:52:36.232+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:52:36.232+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:52:36.233+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:52:36.233+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:52:36.233+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:52:36.233+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:52:36.234+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:52:36.234+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:52:36.234+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:52:36.239+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:52:36.239+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:52:36.247+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:52:36.249+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:52:36.275+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:52:36.275+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:52:36.276+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:52:36.277+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:52:36.278+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:52:36.278+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:52:36.278+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:52:36.279+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:52:36.279+00:00 [Info] Setting log level to Info
2025-03-28T08:52:36.279+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:52:36.287+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:52:36.287+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:52:36.287+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:52:36.288+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:52:36.288+00:00 [Info] Indexer::ReadMemstats Time Taken 384.839µs
2025-03-28T08:52:36.296+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:52:36.296+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:52:36.297+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:52:36.297+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:52:36.297+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:52:36.297+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:52:36.297+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:52:36.297+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:52:36.297+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:52:36.297+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:52:36.297+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:52:36.303+00:00 [Info] progress stats collection done.
2025-03-28T08:52:36.303+00:00 [Info] send progress stats to clients
2025-03-28T08:52:36.303+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:52:36.304+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 5.409745ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T08:52:36.307+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:53:17.635+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:53:17.635+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:53:17.698+00:00 [Info] Setting ipv6=false
2025-03-28T08:53:17.704+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:53:17.707+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:53:17.721+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:53:17.721+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:53:17.721+00:00 [Info] Setting log level to Info
2025-03-28T08:53:17.721+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:53:17.721+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:53:17.722+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:53:17.722+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:53:17.738+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:53:18.627+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 51] will report aggregate recorder stats every 5m0s 
2025-03-28T08:53:18.922+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:53:18.923+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:53:18.923+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:53:18 audit: created new audit service
2025-03-28T08:53:18.969+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:53:18.969+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:53:18.969+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:53:19.002+00:00 [Info] security context initialized
2025-03-28T08:53:19.002+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:53:19.002+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:53:19.002+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:53:19.002+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:53:19.002+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:53:19.019+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:53:19.019+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:53:19.019+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:53:19.020+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:53:19.023+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:53:19.023+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:53:19.024+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:53:19.058+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:53:19.058+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:53:19.063+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:53:19.071+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:53:19.071+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:53:19.082+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:53:19.082+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:53:19.084+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:53:19.090+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:53:19.095+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:53:19.095+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:53:19.095+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:53:19.095+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:53:19.099+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 141 us

2025-03-28T08:53:19.098+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:53:19.114+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:53:19.132+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:53:19.133+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:53:19.152+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:53:19.153+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:53:19.153+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:53:19.153+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:53:19.153+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:53:19.158+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:19.158+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:53:19.158+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:53:19.158+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:53:19.158+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:53:19.159+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:53:19.159+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:53:19.164+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 4.806477ms
2025-03-28T08:53:19.164+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:19.164+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:53:19.164+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:53:19.164+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:53:19.165+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:53:19.165+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:53:19.165+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:19.167+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:53:19.171+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:53:19.171+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:53:19.172+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:53:19.172+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:19.173+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:53:19.173+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:53:19.173+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:53:19.173+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:53:19.174+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:53:19.174+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:53:19.174+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:53:19.178+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:53:19.178+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:53:19.181+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:53:19.181+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:53:19.184+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:53:19.184+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:53:19.186+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:53:19.188+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:53:19.194+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:53:19.194+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:53:19.194+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:53:19.194+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:53:19.204+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:53:19.204+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:53:19.204+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:53:19.204+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:53:19.204+00:00 [Info] progress stats collection done.
2025-03-28T08:53:19.204+00:00 [Info] send progress stats to clients
2025-03-28T08:53:19.213+00:00 [Info] Indexer::ReadMemstats Time Taken 8.113206ms
2025-03-28T08:53:19.214+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:53:19.214+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:53:19.214+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:53:19.214+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:53:19.214+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:53:19.215+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:53:19.215+00:00 [Info] Setting log level to Info
2025-03-28T08:53:19.215+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:53:19.224+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:53:19.242+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:53:19.242+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:53:19.243+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:53:19.243+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:53:19.243+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:53:19.243+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:53:19.243+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:53:19.243+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:53:19.243+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:53:19.243+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:53:19.243+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:53:19.248+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.0124ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:53:19.249+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:53:19.249+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:53:19.257+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:53:19.257+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:53:19.348+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:54:01.551+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:54:01.552+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:54:01.628+00:00 [Info] Setting ipv6=false
2025-03-28T08:54:01.635+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:54:01.639+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:54:01.656+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:54:01.656+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:54:01.656+00:00 [Info] Setting log level to Info
2025-03-28T08:54:01.656+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:54:01.656+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:54:01.657+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:54:01.657+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:54:01.660+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:54:02.552+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 29] will report aggregate recorder stats every 5m0s 
2025-03-28T08:54:03.324+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:54:03.324+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:54:03.324+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:54:03 audit: created new audit service
2025-03-28T08:54:03.369+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:03.369+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:54:03.369+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:54:03.396+00:00 [Info] security context initialized
2025-03-28T08:54:03.396+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:54:03.396+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:54:03.396+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:54:03.396+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:54:03.396+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:54:03.403+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:54:03.404+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:54:03.404+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:54:03.405+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:54:03.405+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:54:03.406+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:54:03.420+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:54:03.422+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:54:03.423+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:54:03.423+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:54:03.438+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:54:03.438+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:54:03.473+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:54:03.473+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:54:03.473+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:54:03.487+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:54:03.488+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:54:03.489+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:54:03.489+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:54:03.490+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:54:03.504+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:54:03.509+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 162 us

2025-03-28T08:54:03.525+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:54:03.539+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:54:03.541+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:54:03.567+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:54:03.568+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:54:03.568+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:54:03.568+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:54:03.568+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:54:03.568+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:03.568+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:54:03.569+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:54:03.569+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:54:03.569+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:54:03.571+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:54:03.571+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:54:03.583+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 12.063725ms
2025-03-28T08:54:03.583+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:03.583+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:54:03.584+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:54:03.584+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:54:03.584+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:03.585+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:54:03.585+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:54:03.584+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:54:03.599+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:54:03.600+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:54:03.600+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:54:03.600+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:03.602+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:54:03.602+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:54:03.602+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:54:03.602+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:54:03.613+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:54:03.613+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:54:03.621+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:54:03.622+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:54:03.622+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:54:03.624+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:54:03.625+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:54:03.625+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:54:03.627+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:54:03.627+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:54:03.630+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:54:03.639+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:54:03.639+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:54:03.640+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:03.640+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:54:03.642+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:54:03.642+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:54:03.647+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:03.648+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:03.648+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:03.649+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:54:03.649+00:00 [Info] Setting log level to Info
2025-03-28T08:54:03.649+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:54:03.649+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:54:03.649+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:54:03.649+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:54:03.649+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:54:03.651+00:00 [Info] Indexer::ReadMemstats Time Taken 1.53033ms
2025-03-28T08:54:03.657+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:54:03.657+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:54:03.657+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:54:03.657+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:54:03.657+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:54:03.657+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:54:03.657+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:54:03.657+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:54:03.657+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:54:03.661+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:54:03.661+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:54:03.661+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:54:03.661+00:00 [Info] progress stats collection done.
2025-03-28T08:54:03.661+00:00 [Info] send progress stats to clients
2025-03-28T08:54:03.661+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:54:03.663+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.283379ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T08:54:03.980+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:54:04.596+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:04.597+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:04.597+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:04.597+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:54:04.597+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:54:04.599+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:54:04.599+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:54:44.822+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:54:44.822+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:54:44.829+00:00 [Info] Setting ipv6=false
2025-03-28T08:54:44.846+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:54:44.848+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:54:44.856+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:54:44.856+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:54:44.856+00:00 [Info] Setting log level to Info
2025-03-28T08:54:44.856+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:54:44.856+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:54:44.857+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:54:44.857+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:54:44.864+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:54:45.821+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 25] will report aggregate recorder stats every 5m0s 
2025/03/28 08:54:46 audit: created new audit service
2025-03-28T08:54:46.539+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:54:46.539+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:54:46.539+00:00 [Info] TLS config refreshed successfully
2025-03-28T08:54:46.661+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:54:46.661+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:54:46.662+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:54:46.688+00:00 [Info] security context initialized
2025-03-28T08:54:46.688+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:54:46.688+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:54:46.688+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:54:46.688+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:54:46.688+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:54:46.704+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:54:46.704+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:54:46.704+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:54:46.714+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:54:46.720+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:54:46.723+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:54:46.723+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:54:46.730+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:54:46.746+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:54:46.746+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:54:46.747+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:54:46.747+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:54:46.795+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:54:46.796+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:54:46.799+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:54:46.806+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:54:46.812+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:54:46.813+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:54:46.813+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:54:46.816+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:54:46.862+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:54:46.864+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 340 us

2025-03-28T08:54:46.909+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:54:46.968+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:54:46.972+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:54:47.018+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:54:47.019+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:54:47.019+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:54:47.019+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:54:47.019+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:54:47.020+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:47.020+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:54:47.021+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:54:47.021+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:54:47.021+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:54:47.022+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:54:47.023+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:54:47.036+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 13.781954ms
2025-03-28T08:54:47.036+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:47.036+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:54:47.037+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:54:47.037+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:54:47.037+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:54:47.037+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:47.039+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:54:47.039+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:54:47.045+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:54:47.045+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:54:47.045+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:54:47.045+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:47.050+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:54:47.050+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:54:47.050+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:54:47.050+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:54:47.050+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:47.054+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:47.054+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:54:47.058+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:54:47.058+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:54:47.059+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:54:47.059+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:54:47.063+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:54:47.063+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:54:47.070+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:54:47.073+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:54:47.082+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:54:47.082+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:54:47.083+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:54:47.084+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:54:47.084+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:54:47.084+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:54:47.091+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:47.097+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:54:47.103+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:47.103+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":false,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.enable_page_bloom_filter":false,"indexer.settings.enable_shard_affinity":false,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.log_level":"info","indexer.settings.max_cpu_percent":0,"indexer.settings.memory_quota":268435456,"indexer.settings.num_replica":0,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.storage_mode":"plasma","indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40}
2025-03-28T08:54:47.105+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:54:47.106+00:00 [Info] Setting log level to Info
2025-03-28T08:54:47.107+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:54:47.111+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:54:47.111+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:54:47.112+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:54:47.113+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:54:47.113+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:54:47.114+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:54:47.118+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:54:47.118+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:54:47.118+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:54:47.118+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:54:47.118+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:54:47.118+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:54:47.118+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:54:47.118+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:54:47.118+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:54:47.119+00:00 [Info] Indexer::ReadMemstats Time Taken 4.177674ms
2025-03-28T08:54:47.119+00:00 [Info] progress stats collection done.
2025-03-28T08:54:47.119+00:00 [Info] send progress stats to clients
2025-03-28T08:54:47.119+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:54:47.124+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.057467ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:54:47.128+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:54:47.128+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:54:47.142+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:54:47.267+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:54:53.130+00:00 [Info] Indexer::enablePageBloomFilterPlasmaBackIndex trying to enable feature
2025-03-28T08:54:53.132+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.enable_page_bloom_filter":true}
2025-03-28T08:54:53.132+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.enable_page_bloom_filter":true}
2025-03-28T08:54:53.136+00:00 [Info] settingsManager::metakvCallback triggered for path /indexing/settings/config (rev [131 104 2 97 0 108 0 0 0 1 104 2 109 0 0 0 32 101 51 97 56 99 55 98 54 49 53 56 98 48 97 100 54 101 51 56 53 54 55 98 101 51 101 50 51 51 100 57 98 104 2 97 5 110 5 0 221 223 90 225 14 106])
2025-03-28T08:54:53.136+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:54:53.137+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:54:53.137+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:54:53.137+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:54:53.137+00:00 [Info] Setting log level to Info
2025-03-28T08:54:53.137+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:54:53.139+00:00 [Info] Indexer::enablePageBloomFilterPlasmaBackIndex done enabling feature
2025-03-28T08:54:53.141+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:54:53.141+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:54:53.141+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:54:53.141+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:54:53.141+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:54:53.141+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:54:53.141+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:54:53.141+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:54:53.141+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:54:53.147+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.577629ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:55:02.035+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:55:42.400+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:55:42.402+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:55:42.423+00:00 [Info] Setting ipv6=false
2025-03-28T08:55:42.446+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:55:42.452+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:55:42.472+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:55:42.472+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:55:42.472+00:00 [Info] Setting log level to Info
2025-03-28T08:55:42.473+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:55:42.473+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:55:42.474+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:55:42.474+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:55:42.496+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:55:43.401+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 67] will report aggregate recorder stats every 5m0s 
2025-03-28T08:55:43.841+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:55:43.841+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:55:43.841+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:55:43 audit: created new audit service
2025-03-28T08:55:43.938+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:55:43.939+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:55:43.939+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:55:44.137+00:00 [Info] security context initialized
2025-03-28T08:55:44.137+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:55:44.137+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:55:44.137+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:55:44.137+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:55:44.137+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:55:44.153+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:55:44.153+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:55:44.153+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:55:44.154+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:55:44.154+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:55:44.155+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:55:44.167+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:55:44.236+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:55:44.279+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:55:44.303+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:55:44.303+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:55:44.303+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:55:44.305+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:55:44.308+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:55:44.308+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:55:44.308+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:55:44.308+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:55:44.310+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:55:44.315+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 118 us

2025-03-28T08:55:44.342+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:55:44.374+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:55:44.377+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:55:44.407+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:55:44.407+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:55:44.407+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:55:44.407+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:55:44.407+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:55:44.409+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:44.409+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:55:44.410+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:55:44.410+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:55:44.410+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:55:44.410+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:55:44.410+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:55:44.419+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 8.710454ms
2025-03-28T08:55:44.419+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:44.419+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:55:44.419+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:55:44.419+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:55:44.420+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:55:44.420+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:55:44.420+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:55:44.420+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:44.421+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T08:55:44.421+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused from 127.0.0.1:9999
2025-03-28T08:55:44.433+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:55:44.433+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:55:44.433+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:55:44.434+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:55:44.434+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:55:44.435+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:55:44.435+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:55:44.447+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:55:44.447+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:55:44.447+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:55:44.451+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:55:44.459+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:55:44.459+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:55:44.462+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:55:44.940+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:55:44.940+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:55:44.941+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:55:44.943+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:55:44.943+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:55:45.002+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:55:45.439+00:00 [Error] KVSender::closeMutationStream, MAINT_STREAM  Error from Projector Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T08:55:45.439+00:00 [Warn] Indexer::closeAllStreams Stream MAINT_STREAM Projector health check needed, indexer can not proceed, Error received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused. Retrying (1).
2025-03-28T08:55:50.440+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:50.454+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:55:50.454+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:55:50.454+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:55:50.454+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:50.455+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:55:50.455+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:55:50.455+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:55:50.455+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:55:50.504+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:55:50.506+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:55:50.521+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:55:50.521+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:55:50.521+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:55:50.521+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:55:50.524+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:55:50.525+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:55:50.526+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:55:50.526+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:55:50.526+00:00 [Info] Setting log level to Info
2025-03-28T08:55:50.526+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:55:50.530+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:55:50.530+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:55:50.562+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:55:50.562+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:55:50.562+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:55:50.562+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:55:50.562+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:55:50.563+00:00 [Info] Indexer::ReadMemstats Time Taken 361.443µs
2025-03-28T08:55:50.564+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:55:50.564+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:55:50.564+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:55:50.564+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:55:50.564+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:55:50.564+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:55:50.564+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:55:50.564+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:55:50.565+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:55:50.565+00:00 [Info] progress stats collection done.
2025-03-28T08:55:50.565+00:00 [Info] send progress stats to clients
2025-03-28T08:55:50.565+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:55:50.570+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.091273ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T08:56:25.996+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:56:25.996+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:56:26.020+00:00 [Info] Setting ipv6=false
2025-03-28T08:56:26.032+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:56:26.035+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:56:26.045+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:56:26.045+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:56:26.045+00:00 [Info] Setting log level to Info
2025-03-28T08:56:26.045+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:56:26.045+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:56:26.048+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:56:26.048+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:56:26.051+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:56:26.994+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 32] will report aggregate recorder stats every 5m0s 
2025/03/28 08:56:28 audit: created new audit service
2025-03-28T08:56:28.145+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:56:28.146+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:56:28.149+00:00 [Info] TLS config refreshed successfully
2025-03-28T08:56:28.326+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:56:28.326+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:56:28.326+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:56:28.374+00:00 [Info] security context initialized
2025-03-28T08:56:28.374+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:56:28.374+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:56:28.374+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:56:28.374+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:56:28.374+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:56:28.382+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:56:28.383+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:56:28.386+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:56:28.386+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:56:28.387+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:56:28.411+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:56:28.397+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:56:28.398+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:56:28.415+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:56:28.417+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:56:28.420+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:56:28.426+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:56:28.450+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:56:28.453+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:56:28.453+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:56:28.466+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:56:28.470+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:56:28.470+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:56:28.470+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:56:28.470+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:56:28.474+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:56:28.475+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 113 us

2025-03-28T08:56:28.503+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:56:28.666+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:56:28.674+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:56:28.696+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:56:28.696+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:56:28.696+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:56:28.696+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:56:28.696+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:56:28.731+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:28.731+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:56:28.732+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:56:28.732+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:56:28.732+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:56:28.732+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:56:28.733+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:56:28.737+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 4.568509ms
2025-03-28T08:56:28.737+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:28.737+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:56:28.737+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:56:28.737+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:56:28.737+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:56:28.738+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:56:28.738+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:28.739+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:56:28.751+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:56:28.751+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:56:28.751+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:56:28.756+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:56:28.756+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:56:28.756+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:56:28.757+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:28.758+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:56:28.759+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:56:28.758+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:56:28.759+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:56:28.759+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:56:28.759+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:56:28.762+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:56:28.762+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:56:28.779+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:56:28.780+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:56:28.780+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:56:28.781+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:56:28.781+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:56:28.795+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:56:28.795+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:56:28.796+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:56:28.801+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:56:28.808+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:56:28.809+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:56:28.809+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:56:28.810+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:56:28.815+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:56:28.816+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:56:28.816+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:56:28.816+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:56:28.816+00:00 [Info] Setting log level to Info
2025-03-28T08:56:28.816+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:56:28.821+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:56:28.821+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:56:28.826+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:56:28.827+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:56:28.827+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:56:28.827+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:56:28.828+00:00 [Info] Indexer::ReadMemstats Time Taken 730.766µs
2025-03-28T08:56:28.836+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:56:28.836+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:56:28.837+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:56:28.837+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:56:28.837+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:56:28.837+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:56:28.837+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:56:28.837+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:56:28.837+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:56:28.841+00:00 [Info] progress stats collection done.
2025-03-28T08:56:28.841+00:00 [Info] send progress stats to clients
2025-03-28T08:56:28.841+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:56:28.844+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:56:28.849+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.036872ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:56:32.256+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:56420
2025-03-28T08:56:32.290+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 6.638495ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:56:32.297+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 263.824µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:56:32.358+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:35316" doAuth() ...
2025-03-28T08:56:32.366+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:35316" doReceive() ...
2025-03-28T08:56:32.836+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T08:58:05.581+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:58:05.581+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:58:05.594+00:00 [Info] Setting ipv6=false
2025-03-28T08:58:05.607+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:58:05.610+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:58:05.614+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:58:05.614+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:58:05.614+00:00 [Info] Setting log level to Info
2025-03-28T08:58:05.614+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:58:05.614+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:58:05.615+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:58:05.615+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:58:05.621+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:58:06.592+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 29] will report aggregate recorder stats every 5m0s 
2025-03-28T08:58:06.685+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:58:06.686+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:58:06.686+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:58:06 audit: created new audit service
2025-03-28T08:58:06.747+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:58:06.748+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:58:06.748+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:58:06.782+00:00 [Info] security context initialized
2025-03-28T08:58:06.782+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:58:06.782+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:58:06.782+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:58:06.782+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:58:06.782+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:58:06.790+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:58:06.790+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:58:06.790+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:58:06.792+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:58:06.793+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:58:06.795+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:58:06.798+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:58:06.817+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:58:06.848+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:58:06.855+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:58:06.855+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:58:06.855+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:58:06.875+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:58:06.875+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:58:06.876+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:58:06.882+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:58:06.889+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:58:06.890+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:58:06.891+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:58:06.893+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:58:06.904+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:58:06.904+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 119 us

2025-03-28T08:58:06.923+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:58:06.938+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:58:06.940+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:58:06.956+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:58:06.956+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:58:06.956+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:58:06.956+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:58:06.956+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:58:06.970+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:06.970+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:58:06.971+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:58:06.971+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:58:06.971+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:58:06.972+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:58:06.972+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:58:06.984+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 12.029038ms
2025-03-28T08:58:06.984+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:06.984+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:58:06.985+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:58:06.985+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:58:06.985+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:58:06.985+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:58:06.985+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:58:06.987+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:06.990+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:58:06.991+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:58:06.994+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:58:06.994+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:58:06.997+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:58:06.997+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:58:06.997+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:58:06.997+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:07.001+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:58:07.001+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:58:07.003+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:58:07.004+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:58:07.004+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:58:07.007+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:58:07.007+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:58:07.007+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:58:07.007+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:58:07.009+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:58:07.009+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:58:07.021+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:58:07.024+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:58:07.030+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:58:07.030+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:58:07.031+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:58:07.031+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:58:07.037+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:58:07.038+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:58:07.038+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:58:07.038+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:58:07.038+00:00 [Info] Setting log level to Info
2025-03-28T08:58:07.038+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:58:07.040+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:58:07.040+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:58:07.040+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:58:07.040+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:58:07.041+00:00 [Info] Indexer::ReadMemstats Time Taken 764.787µs
2025-03-28T08:58:07.043+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:58:07.043+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:58:07.055+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:58:07.055+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:58:07.055+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:58:07.055+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:58:07.055+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:58:07.055+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:58:07.055+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:58:07.055+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:58:07.055+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:58:07.060+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.225588ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:58:07.060+00:00 [Info] progress stats collection done.
2025-03-28T08:58:07.060+00:00 [Info] send progress stats to clients
2025-03-28T08:58:07.060+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:58:07.066+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:58:07.995+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:58:07.996+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:58:07.996+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:58:07.996+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:58:07.996+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:58:07.997+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:58:07.998+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:58:11.109+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:35620
2025-03-28T08:58:11.143+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 29.293455ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:58:11.146+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 179.844µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:58:11.261+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:53862" doAuth() ...
2025-03-28T08:58:11.262+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:53862" doReceive() ...
2025-03-28T08:58:11.644+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T08:58:17.048+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:58:24.429+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:59:04.462+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:59:04.462+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:59:04.472+00:00 [Info] Setting ipv6=false
2025-03-28T08:59:04.478+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:59:04.480+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:59:04.483+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:59:04.483+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:59:04.483+00:00 [Info] Setting log level to Info
2025-03-28T08:59:04.483+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:59:04.483+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:59:04.484+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:59:04.484+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:59:04.488+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:59:05.472+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 54] will report aggregate recorder stats every 5m0s 
2025-03-28T08:59:06.550+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:59:06.550+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:59:06.550+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:59:06 audit: created new audit service
2025-03-28T08:59:06.681+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:59:06.681+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:59:06.681+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:59:06.725+00:00 [Info] security context initialized
2025-03-28T08:59:06.729+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:59:06.749+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:59:06.749+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:59:06.749+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:59:06.749+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:59:06.768+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:59:06.774+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:59:06.783+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:59:06.782+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:59:06.784+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:59:06.784+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:59:06.784+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:59:06.788+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:59:06.789+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:59:06.791+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:59:06.791+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:59:06.804+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:59:06.949+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:59:06.950+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:59:06.951+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:59:06.954+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:59:06.955+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:59:06.956+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:59:06.956+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:59:06.956+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:59:07.099+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:59:07.120+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 243 us

2025-03-28T08:59:07.194+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:59:07.299+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:59:07.303+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:59:07.333+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:59:07.334+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:59:07.334+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:59:07.334+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:59:07.334+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:59:07.356+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:07.356+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:59:07.359+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:59:07.359+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:59:07.359+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:59:07.360+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:59:07.360+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:59:07.371+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 10.4651ms
2025-03-28T08:59:07.371+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:07.371+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:59:07.371+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:59:07.371+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:59:07.372+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:59:07.372+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:59:07.372+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:59:07.372+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:07.385+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:59:07.386+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:59:07.388+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:59:07.389+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T08:59:07.392+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:59:07.392+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:59:07.392+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:59:07.395+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T08:59:07.395+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T08:59:07.414+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:59:07.415+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:59:07.415+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:59:07.415+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:07.416+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:59:07.417+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:59:07.417+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:59:07.417+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:59:07.417+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:59:07.432+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:59:07.445+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:59:07.449+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:59:07.456+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:59:07.456+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:59:07.457+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:07.457+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:59:07.469+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:07.470+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:07.471+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:07.472+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:59:07.472+00:00 [Info] Setting log level to Info
2025-03-28T08:59:07.473+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:59:07.476+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:59:07.476+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:59:07.477+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:59:07.477+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:59:07.478+00:00 [Info] Indexer::ReadMemstats Time Taken 702.735µs
2025-03-28T08:59:07.480+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:59:07.480+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:59:07.480+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:59:07.481+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:59:07.481+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:59:07.481+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:59:07.481+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:59:07.481+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:59:07.481+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:59:07.484+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:59:07.485+00:00 [Info] progress stats collection done.
2025-03-28T08:59:07.485+00:00 [Info] send progress stats to clients
2025-03-28T08:59:07.485+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:59:07.489+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.794025ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T08:59:07.493+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:59:07.493+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:59:08.376+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:08.377+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:08.377+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:08.377+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:59:08.377+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:59:08.378+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:59:33.332+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T08:59:33.332+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T08:59:33.348+00:00 [Info] Setting ipv6=false
2025-03-28T08:59:33.360+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T08:59:33.365+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T08:59:33.370+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T08:59:33.370+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:59:33.370+00:00 [Info] Setting log level to Info
2025-03-28T08:59:33.370+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:59:33.370+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T08:59:33.370+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T08:59:33.370+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T08:59:33.375+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T08:59:34.333+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 26] will report aggregate recorder stats every 5m0s 
2025-03-28T08:59:35.218+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T08:59:35.218+00:00 [Info] Receive security change notification. code 15
2025-03-28T08:59:35.218+00:00 [Info] TLS config refreshed successfully
2025/03/28 08:59:35 audit: created new audit service
2025-03-28T08:59:35.257+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T08:59:35.257+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T08:59:35.257+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T08:59:35.283+00:00 [Info] security context initialized
2025-03-28T08:59:35.283+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T08:59:35.284+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T08:59:35.284+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T08:59:35.284+00:00 [Info] memcachedTimeout set to 120
2025-03-28T08:59:35.284+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T08:59:35.291+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T08:59:35.291+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T08:59:35.291+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T08:59:35.291+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:59:35.291+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T08:59:35.298+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T08:59:35.302+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T08:59:35.306+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T08:59:35.310+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T08:59:35.327+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T08:59:35.327+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:59:35.311+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T08:59:35.370+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T08:59:35.370+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:59:35.371+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T08:59:35.372+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T08:59:35.374+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T08:59:35.374+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T08:59:35.374+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T08:59:35.375+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T08:59:35.377+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T08:59:35.379+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 104 us

2025-03-28T08:59:35.391+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T08:59:35.410+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T08:59:35.412+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T08:59:35.439+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T08:59:35.439+00:00 [Info] HTTPS server created for :19102
2025-03-28T08:59:35.439+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T08:59:35.439+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T08:59:35.439+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T08:59:35.440+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:35.440+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T08:59:35.441+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T08:59:35.441+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T08:59:35.441+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T08:59:35.441+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T08:59:35.442+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T08:59:35.453+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 11.139609ms
2025-03-28T08:59:35.453+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:35.453+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T08:59:35.453+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T08:59:35.453+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T08:59:35.453+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T08:59:35.453+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T08:59:35.458+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T08:59:35.461+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:35.469+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:35.469+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:35.469+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T08:59:35.473+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:59:35.473+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:59:35.473+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:59:35.473+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:35.475+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T08:59:35.476+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T08:59:35.476+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T08:59:35.476+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:59:35.480+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T08:59:35.480+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T08:59:35.484+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T08:59:35.484+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T08:59:35.490+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T08:59:35.490+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T08:59:35.493+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T08:59:35.497+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T08:59:35.506+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T08:59:35.506+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T08:59:35.507+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T08:59:35.507+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T08:59:35.512+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:35.513+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:35.513+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T08:59:35.514+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T08:59:35.514+00:00 [Info] Setting log level to Info
2025-03-28T08:59:35.514+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T08:59:35.515+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T08:59:35.515+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T08:59:35.515+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T08:59:35.515+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T08:59:35.518+00:00 [Info] Indexer::ReadMemstats Time Taken 3.162928ms
2025-03-28T08:59:35.531+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T08:59:35.531+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T08:59:35.533+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T08:59:35.533+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T08:59:35.534+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T08:59:35.535+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T08:59:35.535+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T08:59:35.535+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T08:59:35.535+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T08:59:35.535+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T08:59:35.535+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T08:59:35.535+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T08:59:35.535+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T08:59:35.535+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T08:59:35.537+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T08:59:35.537+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T08:59:35.537+00:00 [Info] progress stats collection done.
2025-03-28T08:59:35.537+00:00 [Info] send progress stats to clients
2025-03-28T08:59:35.537+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T08:59:35.543+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.487191ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T08:59:35.546+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T08:59:45.700+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T08:59:50.708+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:00:19.161+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:00:19.162+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:00:19.173+00:00 [Info] Setting ipv6=false
2025-03-28T09:00:19.178+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:00:19.180+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:00:19.184+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:00:19.184+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:00:19.184+00:00 [Info] Setting log level to Info
2025-03-28T09:00:19.184+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:00:19.184+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:00:19.189+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:00:19.189+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:00:19.189+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025/03/28 09:00:20 audit: created new audit service
2025-03-28T09:00:20.138+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:00:20.139+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:00:20.139+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:00:20.158+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:00:20.158+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:00:20.158+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:00:20.162+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 21] will report aggregate recorder stats every 5m0s 
2025-03-28T09:00:20.182+00:00 [Info] security context initialized
2025-03-28T09:00:20.182+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:00:20.182+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:00:20.182+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:00:20.182+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:00:20.182+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:00:20.196+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:00:20.196+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:00:20.196+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:00:20.199+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:00:20.199+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:00:20.199+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:00:20.196+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:00:20.206+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:00:20.209+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:00:20.212+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:00:20.212+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:00:20.213+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:00:20.248+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:00:20.249+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:00:20.249+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:00:20.257+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:00:20.265+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:00:20.265+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:00:20.265+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:00:20.265+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:00:20.271+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:00:20.274+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 122 us

2025-03-28T09:00:20.304+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:00:20.321+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:00:20.323+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:00:20.338+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:00:20.338+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:00:20.338+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:00:20.338+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:00:20.338+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:00:20.345+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:20.345+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:00:20.346+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:00:20.346+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:00:20.346+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:00:20.346+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:00:20.347+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:00:20.352+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 5.630743ms
2025-03-28T09:00:20.352+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:20.353+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:00:20.353+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:00:20.353+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:00:20.352+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:20.353+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:00:20.353+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:00:20.353+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:00:20.356+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:00:20.356+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:00:20.356+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:00:20.356+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:20.358+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:00:20.358+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:00:20.358+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:00:20.358+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:00:20.363+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:00:20.363+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:00:20.366+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:00:20.366+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:00:20.368+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:00:20.368+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T09:00:20.372+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:00:20.372+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:00:20.373+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:00:20.380+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:00:20.389+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:00:20.391+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:00:20.391+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:00:20.396+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:00:20.396+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:00:20.397+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:00:20.397+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:00:20.405+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:00:20.405+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:00:20.405+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:00:20.405+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:00:20.405+00:00 [Info] progress stats collection done.
2025-03-28T09:00:20.405+00:00 [Info] send progress stats to clients
2025-03-28T09:00:20.406+00:00 [Info] Indexer::ReadMemstats Time Taken 295.861µs
2025-03-28T09:00:20.407+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:00:20.407+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:00:20.408+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:00:20.408+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:00:20.408+00:00 [Info] Setting log level to Info
2025-03-28T09:00:20.408+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:00:20.428+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:00:20.428+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:00:20.428+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:00:20.428+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:00:20.428+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:00:20.428+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:00:20.428+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:00:20.428+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:00:20.428+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:00:20.435+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 4.224757ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:00:20.435+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:00:20.438+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:00:20.438+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:00:20.450+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:00:21.358+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:00:21.358+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:00:21.358+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:00:21.358+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:00:21.358+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:00:21.360+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:00:21.360+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:00:23.654+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:38744
2025-03-28T09:00:23.695+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 8.405925ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:00:23.703+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 202.342µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:00:23.739+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:41582" doAuth() ...
2025-03-28T09:00:23.741+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:41582" doReceive() ...
2025-03-28T09:00:24.196+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T09:00:30.673+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:02.479+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:01:02.479+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:01:02.488+00:00 [Info] Setting ipv6=false
2025-03-28T09:01:02.501+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:01:02.504+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:01:02.507+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:01:02.507+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:01:02.507+00:00 [Info] Setting log level to Info
2025-03-28T09:01:02.507+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:01:02.507+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:01:02.508+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:01:02.508+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:01:02.511+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:01:03.436+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:01:03.437+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:01:03.437+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:01:03 audit: created new audit service
2025-03-28T09:01:03.463+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:03.463+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:01:03.463+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:01:03.479+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 66] will report aggregate recorder stats every 5m0s 
2025-03-28T09:01:03.494+00:00 [Info] security context initialized
2025-03-28T09:01:03.494+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:01:03.494+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:01:03.494+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:01:03.494+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:01:03.494+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:01:03.502+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:01:03.502+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:01:03.502+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:01:03.522+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:01:03.529+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:01:03.529+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:01:03.531+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:01:03.534+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:01:03.540+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:01:03.541+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:01:03.554+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:01:03.554+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:03.597+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:01:03.597+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:01:03.598+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:01:03.611+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:01:03.616+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:01:03.616+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:01:03.616+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:01:03.616+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:01:03.627+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:01:03.628+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 107 us

2025-03-28T09:01:03.649+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:01:03.691+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:01:03.695+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:01:03.736+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:01:03.736+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:01:03.736+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:01:03.736+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:01:03.736+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:01:03.741+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:03.741+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:01:03.742+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:01:03.743+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:01:03.743+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:01:03.743+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:01:03.744+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:01:03.758+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 14.865576ms
2025-03-28T09:01:03.758+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:03.759+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:01:03.759+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:01:03.759+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:01:03.759+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:01:03.759+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:01:03.759+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:01:03.760+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:03.768+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:03.768+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:01:03.768+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:01:03.768+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:01:03.768+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:03.768+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:03.768+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:03.769+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:01:03.769+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:01:03.769+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:01:03.769+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:01:03.769+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:01:03.769+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:01:03.785+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:01:03.785+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:01:03.787+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:01:03.787+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:01:03.789+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:01:03.789+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:01:03.790+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:01:03.791+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:01:03.791+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:01:03.798+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:01:03.800+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:01:03.812+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:01:03.813+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:01:03.813+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:03.814+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:01:03.822+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:03.823+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:01:03.823+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:01:03.823+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:01:03.823+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:01:03.824+00:00 [Info] progress stats collection done.
2025-03-28T09:01:03.824+00:00 [Info] send progress stats to clients
2025-03-28T09:01:03.824+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:03.828+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:03.827+00:00 [Info] Indexer::ReadMemstats Time Taken 3.063811ms
2025-03-28T09:01:03.829+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:01:03.830+00:00 [Info] Setting log level to Info
2025-03-28T09:01:03.830+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:01:03.835+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:01:03.835+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:01:03.835+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:01:03.835+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:01:03.835+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:01:03.835+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:01:03.835+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:01:03.835+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:01:03.835+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:01:03.844+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:01:03.845+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:01:03.848+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:01:03.848+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:01:03.851+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 15.075512ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:01:07.090+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:42112
2025-03-28T09:01:07.105+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 10.26741ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:01:07.108+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 188.331µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:01:07.117+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:58942" doAuth() ...
2025-03-28T09:01:07.119+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:58942" doReceive() ...
2025-03-28T09:01:07.606+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T09:01:13.942+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:49.812+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:01:49.812+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:01:49.820+00:00 [Info] Setting ipv6=false
2025-03-28T09:01:49.827+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:01:49.830+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:01:49.836+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:01:49.842+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:01:49.842+00:00 [Info] Setting log level to Info
2025-03-28T09:01:49.842+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:01:49.842+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:01:49.843+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:01:49.844+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:01:49.849+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:01:50.811+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 36] will report aggregate recorder stats every 5m0s 
2025/03/28 09:01:50 audit: created new audit service
2025-03-28T09:01:50.874+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:01:50.874+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:01:50.874+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:01:50.893+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:01:50.894+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:01:50.894+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:01:50.918+00:00 [Info] security context initialized
2025-03-28T09:01:50.918+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:01:50.918+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:01:50.918+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:01:50.918+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:01:50.918+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:01:50.924+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:01:50.924+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:01:50.924+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:01:50.924+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:01:50.924+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:01:50.926+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:01:50.926+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:01:50.962+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:01:50.965+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:01:50.973+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:01:50.974+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:01:50.974+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:01:50.995+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:01:50.995+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:01:50.996+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:01:51.002+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:01:51.005+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:01:51.005+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:01:51.005+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:01:51.005+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:01:51.007+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:01:51.010+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 179 us

2025-03-28T09:01:51.026+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:01:51.045+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:01:51.047+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:01:51.065+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:01:51.065+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:01:51.065+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:01:51.065+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:01:51.065+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:01:51.067+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:51.067+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:01:51.067+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:01:51.067+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:01:51.067+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:01:51.068+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:01:51.069+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:01:51.075+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 6.587843ms
2025-03-28T09:01:51.075+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:51.075+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:01:51.076+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:01:51.076+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:01:51.076+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:01:51.076+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:51.076+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:01:51.077+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:01:51.087+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:01:51.087+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:01:51.087+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:01:51.089+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:51.090+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:51.091+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:51.091+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:01:51.091+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:01:51.091+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:01:51.091+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:01:51.091+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:01:51.111+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:01:51.114+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:01:51.114+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:01:51.114+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:01:51.117+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:01:51.117+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:01:51.119+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:01:51.119+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:01:51.120+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:01:51.121+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:01:51.122+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:01:51.122+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:01:51.122+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:51.124+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:51.124+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:01:51.125+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:01:51.125+00:00 [Info] Setting log level to Info
2025-03-28T09:01:51.125+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:01:51.128+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:01:51.128+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:01:51.129+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:01:51.129+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:01:51.135+00:00 [Info] Indexer::ReadMemstats Time Taken 5.659082ms
2025-03-28T09:01:51.135+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:01:51.135+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:01:51.139+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:01:51.139+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:01:51.139+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:01:51.139+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:01:51.139+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:01:51.139+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:01:51.139+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:01:51.139+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:01:51.139+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:01:51.141+00:00 [Info] progress stats collection done.
2025-03-28T09:01:51.141+00:00 [Info] send progress stats to clients
2025-03-28T09:01:51.141+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:01:51.144+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:01:51.147+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:01:51.147+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:01:51.149+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:01:51.149+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 5.611574ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:01:51.152+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:01:51.152+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:02:01.379+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:02:26.671+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:02:26.671+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:02:26.679+00:00 [Info] Setting ipv6=false
2025-03-28T09:02:26.685+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:02:26.687+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:02:26.691+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:02:26.691+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:02:26.691+00:00 [Info] Setting log level to Info
2025-03-28T09:02:26.691+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:02:26.691+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:02:26.691+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:02:26.691+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:02:26.697+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:02:27.671+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 22] will report aggregate recorder stats every 5m0s 
2025/03/28 09:02:27 audit: created new audit service
2025-03-28T09:02:27.790+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:02:27.790+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:02:27.790+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:02:27.808+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:02:27.809+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:02:27.809+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:02:27.830+00:00 [Info] security context initialized
2025-03-28T09:02:27.830+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:02:27.830+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:02:27.830+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:02:27.830+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:02:27.830+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:02:27.836+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:02:27.837+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:02:27.838+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:02:27.838+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:02:27.861+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:02:27.861+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:02:27.861+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:02:27.866+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:02:27.868+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:02:27.869+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:02:27.872+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:02:27.877+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:02:27.890+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:02:27.891+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:02:27.892+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:02:27.894+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:02:27.898+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:02:27.898+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:02:27.898+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:02:27.899+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:02:27.902+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:02:27.904+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 111 us

2025-03-28T09:02:27.923+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:02:27.942+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:02:27.944+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:02:27.958+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:02:27.959+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:02:27.959+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:02:27.959+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:02:27.959+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:02:27.968+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:27.968+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:02:27.968+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:02:27.969+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:02:27.969+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:02:27.970+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:02:27.970+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:02:27.984+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 14.022379ms
2025-03-28T09:02:27.984+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:27.984+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:02:27.984+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:02:27.984+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:02:27.985+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:02:27.985+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:02:27.985+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:02:27.985+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:27.993+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:02:27.993+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:02:27.994+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:02:27.994+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:27.995+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:02:27.995+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:02:27.996+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:02:27.996+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:02:27.996+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:02:27.996+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:02:27.999+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:02:27.999+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:02:28.000+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:02:28.001+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:02:28.001+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:02:28.006+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:02:28.009+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:02:28.010+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:02:28.011+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:02:28.013+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:02:28.013+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:02:28.014+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:02:28.016+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:02:28.016+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:02:28.016+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:02:28.019+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:02:28.026+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:02:28.026+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:02:28.026+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:02:28.026+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:02:28.028+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:02:28.030+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:02:28.030+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:02:28.030+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:02:28.030+00:00 [Info] Setting log level to Info
2025-03-28T09:02:28.030+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:02:28.033+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:02:28.033+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:02:28.033+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:02:28.033+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:02:28.033+00:00 [Info] Indexer::ReadMemstats Time Taken 437.671µs
2025-03-28T09:02:28.039+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:02:28.040+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:02:28.040+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:02:28.040+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:02:28.040+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:02:28.040+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:02:28.040+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:02:28.040+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:02:28.040+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:02:28.045+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.677797ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:02:28.046+00:00 [Info] progress stats collection done.
2025-03-28T09:02:28.046+00:00 [Info] send progress stats to clients
2025-03-28T09:02:28.046+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:02:28.047+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:02:28.048+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:02:28.059+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:02:37.951+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:02:42.655+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:03:20.595+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:03:20.595+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:03:20.611+00:00 [Info] Setting ipv6=false
2025-03-28T09:03:20.643+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:03:20.651+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:03:20.656+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:03:20.656+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:03:20.656+00:00 [Info] Setting log level to Info
2025-03-28T09:03:20.656+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:03:20.656+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:03:20.656+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:03:20.656+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:03:20.666+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025/03/28 09:03:21 audit: created new audit service
2025-03-28T09:03:21.498+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:03:21.498+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:03:21.498+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:03:21.519+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:03:21.519+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:03:21.519+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:03:21.541+00:00 [Info] security context initialized
2025-03-28T09:03:21.541+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:03:21.541+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:03:21.541+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:03:21.541+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:03:21.541+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:03:21.549+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:03:21.549+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:03:21.549+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:03:21.560+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:03:21.575+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:03:21.587+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:03:21.587+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:03:21.587+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:03:21.588+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:03:21.588+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:03:21.589+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:03:21.595+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 61] will report aggregate recorder stats every 5m0s 
2025-03-28T09:03:21.600+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:03:21.614+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:03:21.614+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:03:21.614+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:03:21.617+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:03:21.623+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:03:21.623+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:03:21.623+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:03:21.624+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:03:21.626+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:03:21.626+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 218 us

2025-03-28T09:03:21.638+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:03:21.655+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:03:21.657+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:03:21.674+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:03:21.675+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:03:21.676+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:03:21.676+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:03:21.676+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:03:21.681+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:21.681+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:03:21.681+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:03:21.681+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:03:21.681+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:03:21.682+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:03:21.682+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:03:21.686+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 3.943304ms
2025-03-28T09:03:21.686+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:21.687+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:03:21.687+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:03:21.687+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:03:21.687+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:03:21.687+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:03:21.688+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:03:21.690+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:21.704+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:03:21.704+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:03:21.704+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:03:21.704+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:03:21.704+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:03:21.704+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:03:21.705+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:21.705+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:03:21.705+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:03:21.705+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:03:21.705+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:03:21.706+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:03:21.706+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:03:21.711+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:03:21.711+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:03:21.713+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:03:21.714+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:03:21.715+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:03:21.717+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:03:21.717+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:03:21.718+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:03:21.719+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:03:21.719+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:03:21.720+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:03:21.724+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:03:21.725+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:03:21.727+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:03:21.727+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:03:21.733+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:03:21.733+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:03:21.735+00:00 [Info] progress stats collection done.
2025-03-28T09:03:21.735+00:00 [Info] send progress stats to clients
2025-03-28T09:03:21.735+00:00 [Info] Indexer::ReadMemstats Time Taken 1.140475ms
2025-03-28T09:03:21.735+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:03:21.735+00:00 [Info] memstats {"Alloc":78063656, "TotalAlloc":80645616, "Sys":89547032, "Lookups":0, "Mallocs":66702,"Frees":20316, "HeapAlloc":78063656, "HeapSys":82608128, "HeapIdle":2514944, "HeapInuse":80093184,"HeapReleased":2449408, "HeapObjects":46386,"MSpanInuse":147200, "MSpanSys": 163200, "StackInuse": 1277952,"GCSys":3263232, "LastGC":1743152601587098823,"PauseTotalNs":6789940, "PauseNs":[5931808, 548285, 309847], "NumGC":3}
2025-03-28T09:03:21.735+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:03:21.736+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:03:21.736+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:03:21.737+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:03:21.737+00:00 [Info] Setting log level to Info
2025-03-28T09:03:21.737+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:03:21.741+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:03:21.741+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:03:21.743+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:03:21.743+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:03:21.743+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:03:21.743+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:03:21.743+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:03:21.743+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:03:21.743+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:03:21.743+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:03:21.744+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:03:21.744+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:03:21.753+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 6.058829ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:03:21.757+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:03:24.970+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:58750
2025-03-28T09:03:24.981+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 7.426937ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:03:24.984+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 222.334µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:03:24.995+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:37788" doAuth() ...
2025-03-28T09:03:24.996+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:37788" doReceive() ...
2025-03-28T09:03:25.482+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T09:03:59.217+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:03:59.217+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:03:59.226+00:00 [Info] Setting ipv6=false
2025-03-28T09:03:59.236+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:03:59.239+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:03:59.257+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:03:59.257+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:03:59.257+00:00 [Info] Setting log level to Info
2025-03-28T09:03:59.258+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:03:59.258+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:03:59.260+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:03:59.260+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:03:59.264+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:04:00.217+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 16] will report aggregate recorder stats every 5m0s 
2025/03/28 09:04:00 audit: created new audit service
2025-03-28T09:04:00.867+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:04:00.868+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:04:00.868+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:04:00.914+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:00.914+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:04:00.914+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:04:00.960+00:00 [Info] security context initialized
2025-03-28T09:04:00.960+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:04:00.960+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:04:00.960+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:04:00.960+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:04:00.960+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:04:00.971+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:04:00.971+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:04:00.971+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:04:00.972+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:04:00.972+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:04:00.974+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:04:00.976+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:04:00.995+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:04:01.001+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:04:01.023+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:04:01.024+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:04:01.031+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:04:01.049+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:04:01.050+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:04:01.051+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:04:01.059+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:04:01.063+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:04:01.063+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:04:01.063+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:04:01.064+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:04:01.065+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:04:01.070+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 894 us

2025-03-28T09:04:01.101+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:04:01.129+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:04:01.136+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:04:01.155+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:04:01.155+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:04:01.155+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:04:01.155+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:04:01.155+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:04:01.156+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:01.156+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:04:01.157+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:04:01.157+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:04:01.157+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:04:01.157+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:04:01.158+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:04:01.163+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 5.010231ms
2025-03-28T09:04:01.163+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:01.163+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:04:01.163+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:04:01.163+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:04:01.163+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:01.163+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:04:01.163+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:04:01.163+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:04:01.169+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:04:01.169+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:04:01.170+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:04:01.170+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:01.171+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:04:01.171+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:04:01.171+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:04:01.172+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:04:01.179+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:01.180+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:01.180+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:01.188+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:04:01.188+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:04:01.197+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:04:01.197+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:04:01.198+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:04:01.198+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:04:01.205+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:04:01.206+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:04:01.206+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:04:01.210+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:04:01.212+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:04:01.212+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:04:01.214+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:04:01.220+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:04:01.220+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:04:01.220+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:01.220+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:04:01.226+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:01.227+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:01.227+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:01.228+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:04:01.228+00:00 [Info] Setting log level to Info
2025-03-28T09:04:01.228+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:04:01.229+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:04:01.229+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:04:01.229+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:04:01.230+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:04:01.230+00:00 [Info] Indexer::ReadMemstats Time Taken 377.565µs
2025-03-28T09:04:01.232+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:04:01.232+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:04:01.233+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:04:01.233+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:04:01.233+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:04:01.233+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:04:01.233+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:04:01.233+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:04:01.233+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:04:01.233+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:04:01.233+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:04:01.236+00:00 [Info] progress stats collection done.
2025-03-28T09:04:01.236+00:00 [Info] send progress stats to clients
2025-03-28T09:04:01.236+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:04:01.239+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:04:01.242+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 8.019149ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T09:04:05.057+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:37824
2025-03-28T09:04:05.080+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 19.854551ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:04:05.081+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 165.224µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:04:05.121+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:34676" doAuth() ...
2025-03-28T09:04:05.122+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:34676" doReceive() ...
2025-03-28T09:04:05.581+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T09:04:10.373+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:04:40.588+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:04:40.589+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:04:40.607+00:00 [Info] Setting ipv6=false
2025-03-28T09:04:40.615+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:04:40.617+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:04:40.633+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:04:40.633+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:04:40.633+00:00 [Info] Setting log level to Info
2025-03-28T09:04:40.633+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:04:40.633+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:04:40.635+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:04:40.635+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:04:40.638+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:04:41.588+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 26] will report aggregate recorder stats every 5m0s 
2025-03-28T09:04:42.331+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:04:42.331+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:04:42.331+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:04:42 audit: created new audit service
2025-03-28T09:04:42.358+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:04:42.358+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:04:42.358+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:04:42.390+00:00 [Info] security context initialized
2025-03-28T09:04:42.390+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:04:42.390+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:04:42.390+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:04:42.390+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:04:42.390+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:04:42.403+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:04:42.403+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:04:42.403+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:04:42.406+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:04:42.411+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:04:42.415+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:04:42.418+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:04:42.418+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:04:42.418+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:04:42.435+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:04:42.442+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:04:42.442+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:04:42.485+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:04:42.485+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:04:42.486+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:04:42.487+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:04:42.490+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:04:42.490+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:04:42.490+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:04:42.490+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:04:42.495+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 128 us

2025-03-28T09:04:42.493+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:04:42.514+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:04:42.547+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:04:42.550+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:04:42.591+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:04:42.591+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:04:42.591+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:04:42.591+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:04:42.591+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:04:42.593+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:42.593+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:04:42.594+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:04:42.594+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:04:42.594+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:04:42.596+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:04:42.597+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:04:42.611+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 13.854477ms
2025-03-28T09:04:42.611+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:42.611+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:04:42.611+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:04:42.611+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:04:42.611+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:04:42.611+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:04:42.612+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:04:42.612+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:42.617+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:42.618+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:42.618+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:04:42.619+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:04:42.619+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:04:42.621+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:04:42.621+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:04:42.622+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:04:42.622+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:04:42.622+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:04:42.622+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:42.623+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:04:42.623+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:04:42.623+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:04:42.623+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:04:42.626+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:04:42.627+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:04:42.630+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:04:42.630+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:04:42.632+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:04:42.633+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:04:42.634+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:04:42.634+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:04:42.636+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:04:42.643+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:04:42.644+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:04:42.645+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:04:42.645+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:04:42.650+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:42.651+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:42.651+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:04:42.652+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:04:42.652+00:00 [Info] Setting log level to Info
2025-03-28T09:04:42.652+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:04:42.657+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:04:42.657+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:04:42.659+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:04:42.659+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:04:42.659+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:04:42.659+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:04:42.660+00:00 [Info] Indexer::ReadMemstats Time Taken 364.081µs
2025-03-28T09:04:42.674+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:04:42.674+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:04:42.674+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:04:42.674+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:04:42.674+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:04:42.674+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:04:42.674+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:04:42.674+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:04:42.674+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:04:42.678+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.293329ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:04:42.678+00:00 [Info] progress stats collection done.
2025-03-28T09:04:42.678+00:00 [Info] send progress stats to clients
2025-03-28T09:04:42.678+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:04:42.691+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:04:51.745+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:05:29.006+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:05:29.006+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:05:29.016+00:00 [Info] Setting ipv6=false
2025-03-28T09:05:29.029+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:05:29.031+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:05:29.035+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:05:29.035+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:05:29.035+00:00 [Info] Setting log level to Info
2025-03-28T09:05:29.035+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:05:29.035+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:05:29.035+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:05:29.036+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:05:29.040+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:05:30.007+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 31] will report aggregate recorder stats every 5m0s 
2025/03/28 09:05:30 audit: created new audit service
2025-03-28T09:05:30.871+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:05:30.872+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:05:30.872+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:05:30.896+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:05:30.896+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:05:30.896+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:05:30.919+00:00 [Info] security context initialized
2025-03-28T09:05:30.919+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:05:30.919+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:05:30.919+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:05:30.919+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:05:30.919+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:05:30.925+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:05:30.925+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:05:30.925+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:05:30.925+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:05:30.925+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:05:30.928+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:05:30.949+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:05:30.951+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:05:30.952+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:05:30.964+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:05:30.967+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:05:30.967+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:05:30.992+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:05:30.992+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:05:30.993+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:05:31.004+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:05:31.018+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:05:31.018+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:05:31.018+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:05:31.018+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:05:31.027+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:05:31.032+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 169 us

2025-03-28T09:05:31.051+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:05:31.103+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:05:31.105+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:05:31.151+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:05:31.151+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:05:31.151+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:05:31.151+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:05:31.151+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:05:31.151+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:31.151+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:05:31.152+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:05:31.152+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:05:31.152+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:05:31.153+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:05:31.155+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:05:31.167+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 11.796358ms
2025-03-28T09:05:31.167+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:31.167+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:05:31.167+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:05:31.167+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:05:31.167+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:05:31.168+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:05:31.168+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:05:31.168+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:31.181+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:05:31.181+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:05:31.181+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:05:31.181+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:31.183+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:05:31.184+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:05:31.184+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:05:31.184+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:05:31.184+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:05:31.184+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:05:31.184+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:05:31.201+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:05:31.201+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:05:31.216+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:05:31.217+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:05:31.219+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:05:31.220+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:05:31.223+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:05:31.228+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:05:31.252+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:05:31.252+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:05:31.252+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:05:31.255+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:05:31.259+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:05:31.259+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:05:31.259+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:05:31.260+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:05:31.260+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:05:31.261+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:05:31.261+00:00 [Info] Setting log level to Info
2025-03-28T09:05:31.261+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:05:31.275+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:05:31.276+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:05:31.276+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:05:31.281+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:05:31.281+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:05:31.298+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:05:31.299+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:05:31.299+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:05:31.299+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:05:31.299+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:05:31.306+00:00 [Info] Indexer::ReadMemstats Time Taken 5.902029ms
2025-03-28T09:05:31.306+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:05:31.306+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:05:31.306+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:05:31.306+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:05:31.306+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:05:31.306+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:05:31.306+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:05:31.306+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:05:31.306+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:05:31.310+00:00 [Info] progress stats collection done.
2025-03-28T09:05:31.311+00:00 [Info] send progress stats to clients
2025-03-28T09:05:31.311+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:05:31.318+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.770102ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:05:40.382+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:06:39.132+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:06:39.132+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:06:39.232+00:00 [Info] Setting ipv6=false
2025-03-28T09:06:39.250+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:06:39.253+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:06:39.299+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:06:39.299+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:06:39.299+00:00 [Info] Setting log level to Info
2025-03-28T09:06:39.299+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:06:39.299+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:06:39.300+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:06:39.300+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:06:39.313+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:06:40.140+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 8] will report aggregate recorder stats every 5m0s 
2025-03-28T09:06:41.947+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025/03/28 09:06:41 audit: created new audit service
2025-03-28T09:06:41.947+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:06:41.947+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:06:42.029+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:06:42.029+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:06:42.029+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:06:42.239+00:00 [Info] security context initialized
2025-03-28T09:06:42.239+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:06:42.239+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:06:42.239+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:06:42.239+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:06:42.239+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:06:42.269+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:06:42.269+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:06:42.269+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:06:42.270+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:06:42.270+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:06:42.271+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:06:42.284+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:06:42.307+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:06:42.389+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:06:42.503+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:06:42.503+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:06:42.504+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:06:42.506+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:06:42.509+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:06:42.509+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:06:42.509+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:06:42.509+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:06:42.529+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:06:42.532+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 128 us

2025-03-28T09:06:42.692+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:06:42.837+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:06:42.844+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:06:42.899+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:06:42.899+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:06:42.899+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:06:42.899+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:06:42.899+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:06:42.901+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:42.901+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:06:42.902+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:06:42.902+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:06:42.902+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:06:42.903+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:06:42.903+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:06:42.928+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 24.814137ms
2025-03-28T09:06:42.928+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:42.928+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:06:42.928+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:06:42.928+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:06:42.928+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:06:42.928+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:06:42.929+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:42.930+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:06:42.944+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:06:42.944+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused from 127.0.0.1:9999
2025-03-28T09:06:42.983+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:06:42.984+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:06:42.984+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:06:42.998+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:06:42.998+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:06:43.010+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:06:43.010+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:06:43.014+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:06:43.018+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:06:43.040+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:06:43.040+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:06:43.042+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:06:43.105+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:06:43.105+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:06:43.105+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:06:43.106+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:06:43.106+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:06:44.000+00:00 [Error] KVSender::closeMutationStream, MAINT_STREAM  Error from Projector Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:06:44.000+00:00 [Warn] Indexer::closeAllStreams Stream MAINT_STREAM Projector health check needed, indexer can not proceed, Error received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused. Retrying (1).
2025-03-28T09:06:49.002+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:49.022+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:06:49.022+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:06:49.023+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:06:49.023+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:49.025+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:06:49.025+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:06:49.025+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:06:49.025+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:06:49.095+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:06:49.097+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:06:49.161+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:06:49.161+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:06:49.162+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:06:49.162+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:06:49.185+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:06:49.186+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:06:49.186+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:06:49.186+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:06:49.186+00:00 [Info] progress stats collection done.
2025-03-28T09:06:49.189+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:06:49.190+00:00 [Info] send progress stats to clients
2025-03-28T09:06:49.190+00:00 [Info] Indexer::ReadMemstats Time Taken 495.988µs
2025-03-28T09:06:49.192+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:06:49.193+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:06:49.194+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:06:49.194+00:00 [Info] Setting log level to Info
2025-03-28T09:06:49.194+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:06:49.213+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:06:49.213+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:06:49.216+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:06:49.216+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:06:49.216+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:06:49.216+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:06:49.216+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:06:49.216+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:06:49.216+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:06:49.216+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:06:49.217+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:06:49.217+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:06:49.225+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:06:49.235+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 17.197452ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:06:52.757+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:07:28.977+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:07:28.977+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:07:28.988+00:00 [Info] Setting ipv6=false
2025-03-28T09:07:29.001+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:07:29.005+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:07:29.017+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:07:29.018+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:07:29.019+00:00 [Info] Setting log level to Info
2025-03-28T09:07:29.019+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:07:29.020+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:07:29.021+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:07:29.022+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:07:29.024+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:07:29.979+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 66] will report aggregate recorder stats every 5m0s 
2025-03-28T09:07:30.905+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:07:30.905+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:07:30.905+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:07:30 audit: created new audit service
2025-03-28T09:07:30.981+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:07:30.982+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:07:30.982+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:07:31.034+00:00 [Info] security context initialized
2025-03-28T09:07:31.034+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:07:31.034+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:07:31.034+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:07:31.034+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:07:31.034+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:07:31.044+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:07:31.044+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:07:31.044+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:07:31.044+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:07:31.044+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:07:31.045+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:07:31.048+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:07:31.058+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:07:31.058+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:07:31.073+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:07:31.091+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:07:31.091+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:07:31.116+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:07:31.117+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:07:31.117+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:07:31.128+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:07:31.132+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:07:31.132+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:07:31.132+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:07:31.133+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:07:31.136+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:07:31.137+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 185 us

2025-03-28T09:07:31.260+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:07:31.308+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:07:31.319+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:07:31.358+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:07:31.363+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:07:31.364+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:07:31.364+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:07:31.364+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:07:31.365+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:31.365+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:07:31.366+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:07:31.367+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:07:31.367+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:07:31.376+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:07:31.379+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:07:31.385+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 6.237063ms
2025-03-28T09:07:31.386+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:31.386+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:07:31.386+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:07:31.386+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:07:31.386+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:07:31.386+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:07:31.386+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:07:31.387+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:31.428+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:07:31.428+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:07:31.428+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:07:31.428+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:31.430+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:07:31.430+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:07:31.430+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:07:31.430+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:07:31.435+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:07:31.435+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:07:31.437+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:07:31.438+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:07:31.438+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:07:31.449+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:07:31.449+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:07:31.455+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:07:31.455+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:07:31.458+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:07:31.469+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:07:31.479+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:07:31.481+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:07:31.485+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:07:31.485+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:07:31.486+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:07:31.487+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:07:31.494+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:07:31.495+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:07:31.495+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:07:31.496+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:07:31.496+00:00 [Info] Setting log level to Info
2025-03-28T09:07:31.496+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:07:31.516+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:07:31.516+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:07:31.516+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:07:31.516+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:07:31.526+00:00 [Info] Indexer::ReadMemstats Time Taken 9.934255ms
2025-03-28T09:07:31.526+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:07:31.527+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:07:31.527+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:07:31.527+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:07:31.548+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:07:31.548+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:07:31.548+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:07:31.548+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:07:31.548+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:07:31.548+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:07:31.548+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:07:31.548+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:07:31.548+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:07:31.551+00:00 [Info] progress stats collection done.
2025-03-28T09:07:31.551+00:00 [Info] send progress stats to clients
2025-03-28T09:07:31.551+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:07:31.568+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:07:31.570+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:07:31.577+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 27.49242ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T09:07:31.614+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:07:31.614+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:08:08.449+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:08:08.450+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:08:08.463+00:00 [Info] Setting ipv6=false
2025-03-28T09:08:08.472+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:08:08.475+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:08:08.479+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:08:08.479+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:08:08.480+00:00 [Info] Setting log level to Info
2025-03-28T09:08:08.480+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:08:08.480+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:08:08.482+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:08:08.482+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:08:08.492+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:08:09.450+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 25] will report aggregate recorder stats every 5m0s 
2025/03/28 09:08:10 audit: created new audit service
2025-03-28T09:08:10.271+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:08:10.271+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:08:10.271+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:08:10.295+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:10.295+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:08:10.295+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:08:10.328+00:00 [Info] security context initialized
2025-03-28T09:08:10.328+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:08:10.329+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:08:10.329+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:08:10.329+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:08:10.329+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:08:10.339+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:08:10.339+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:08:10.339+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:08:10.339+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:08:10.339+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:08:10.340+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:08:10.347+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:08:10.360+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:08:10.375+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:08:10.376+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:08:10.376+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:08:10.377+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:08:10.449+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:08:10.449+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:08:10.450+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:08:10.452+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:08:10.455+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:08:10.455+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:08:10.455+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:08:10.455+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:08:10.456+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:08:10.460+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 193 us

2025-03-28T09:08:10.475+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:08:10.534+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:08:10.542+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:08:10.595+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:08:10.596+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:08:10.596+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:08:10.596+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:08:10.596+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:08:10.608+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:10.608+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:08:10.611+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:08:10.611+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:08:10.611+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:08:10.620+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:08:10.621+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:08:10.626+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 5.227369ms
2025-03-28T09:08:10.626+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:10.626+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:08:10.626+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:08:10.626+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:08:10.627+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:08:10.627+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:10.627+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:08:10.627+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:08:10.631+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:10.632+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:08:10.632+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:08:10.634+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:10.634+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:10.634+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:08:10.634+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:08:10.636+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:08:10.636+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:08:10.636+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:08:10.637+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:08:10.644+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:08:10.644+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:08:10.644+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:08:10.644+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:10.654+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:08:10.654+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:08:10.654+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:08:10.654+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:08:10.660+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:08:10.660+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:08:10.667+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:08:10.667+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:08:10.667+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:08:10.671+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:08:10.674+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:08:10.680+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:08:10.680+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:08:10.681+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:10.681+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:08:10.686+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:10.688+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:10.688+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:10.690+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:08:10.690+00:00 [Info] Setting log level to Info
2025-03-28T09:08:10.690+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:08:10.707+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:08:10.707+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:08:10.708+00:00 [Info] Indexer::ReadMemstats Time Taken 974.85µs
2025-03-28T09:08:10.709+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:08:10.709+00:00 [Info] memstats {"Alloc":79240408, "TotalAlloc":81832312, "Sys":89547032, "Lookups":0, "Mallocs":69661,"Frees":20769, "HeapAlloc":79240408, "HeapSys":82509824, "HeapIdle":1409024, "HeapInuse":81100800,"HeapReleased":1409024, "HeapObjects":48892,"MSpanInuse":157440, "MSpanSys": 163200, "StackInuse": 1376256,"GCSys":3292048, "LastGC":1743152890443166976,"PauseTotalNs":987353, "PauseNs":[85104, 92905, 53103, 32603, 723638], "NumGC":5}
2025-03-28T09:08:10.710+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:08:10.710+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:08:10.715+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:08:10.715+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:08:10.715+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:08:10.715+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:08:10.715+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:08:10.715+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:08:10.715+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:08:10.715+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:08:10.715+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:08:10.720+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.066657ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:08:10.720+00:00 [Info] progress stats collection done.
2025-03-28T09:08:10.720+00:00 [Info] send progress stats to clients
2025-03-28T09:08:10.720+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:08:10.725+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:08:14.206+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:37982
2025-03-28T09:08:14.239+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 22.840374ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:08:14.250+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 1.011352ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:08:14.251+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:55288" doAuth() ...
2025-03-28T09:08:14.253+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:55288" doReceive() ...
2025-03-28T09:08:14.739+00:00 [Info] Fetch new stats upon request by life cycle manager
2025-03-28T09:08:50.432+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:08:50.432+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:08:50.632+00:00 [Info] Setting ipv6=false
2025-03-28T09:08:50.679+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:08:50.686+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:08:50.712+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:08:50.712+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:08:50.712+00:00 [Info] Setting log level to Info
2025-03-28T09:08:50.712+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:08:50.712+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:08:50.713+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:08:50.713+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:08:50.732+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:08:51.432+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 51] will report aggregate recorder stats every 5m0s 
2025-03-28T09:08:52.710+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:08:52.710+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:08:52.710+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:08:52 audit: created new audit service
2025-03-28T09:08:52.884+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:08:52.884+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:08:52.884+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:08:53.063+00:00 [Info] security context initialized
2025-03-28T09:08:53.063+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:08:53.063+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:08:53.064+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:08:53.064+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:08:53.064+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:08:53.087+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:08:53.087+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:08:53.087+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:08:53.088+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:08:53.088+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:08:53.088+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:08:53.095+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:08:53.142+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:08:53.145+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:08:53.163+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:08:53.163+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:08:53.164+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:08:53.179+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:08:53.182+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:08:53.182+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:08:53.182+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:08:53.185+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:08:53.219+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:08:53.220+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 124 us

2025-03-28T09:08:53.338+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:08:53.438+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:08:53.446+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:08:53.481+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:08:53.481+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:08:53.481+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:08:53.481+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:08:53.481+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:08:53.487+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:53.487+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:08:53.487+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:08:53.487+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:08:53.487+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:08:53.488+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:08:53.488+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:08:53.498+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 9.136642ms
2025-03-28T09:08:53.498+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:53.498+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:08:53.498+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:08:53.498+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:08:53.498+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:08:53.498+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:08:53.500+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:08:53.500+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:53.530+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:08:53.530+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:08:53.530+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:08:53.530+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused from 127.0.0.1:9999
2025-03-28T09:08:53.593+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:08:53.593+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:08:53.595+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:08:53.657+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:08:53.657+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:08:53.658+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:08:53.659+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T09:08:54.079+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:08:54.080+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:08:54.080+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:08:54.080+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:08:54.080+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:08:54.548+00:00 [Error] KVSender::closeMutationStream, MAINT_STREAM  Error from Projector Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:08:54.549+00:00 [Warn] Indexer::closeAllStreams Stream MAINT_STREAM Projector health check needed, indexer can not proceed, Error received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused. Retrying (1).
2025-03-28T09:08:54.556+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:54.557+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:54.557+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:08:54.557+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:08:54.557+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:08:54.559+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:08:54.559+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:08:59.549+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:59.555+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:08:59.555+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:08:59.555+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:08:59.555+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:59.556+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:08:59.556+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:08:59.556+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:08:59.556+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:08:59.572+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:08:59.583+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:08:59.591+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:08:59.591+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:08:59.592+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:08:59.592+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:08:59.595+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:59.597+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:59.598+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:08:59.600+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:08:59.600+00:00 [Info] Setting log level to Info
2025-03-28T09:08:59.600+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:08:59.603+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:08:59.603+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:08:59.615+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:08:59.615+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:08:59.616+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:08:59.616+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:08:59.617+00:00 [Info] Indexer::ReadMemstats Time Taken 1.558362ms
2025-03-28T09:08:59.619+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:08:59.625+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:08:59.625+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:08:59.625+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:08:59.625+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:08:59.625+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:08:59.625+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:08:59.625+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:08:59.625+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:08:59.625+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:08:59.631+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.853901ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:08:59.631+00:00 [Info] progress stats collection done.
2025-03-28T09:08:59.631+00:00 [Info] send progress stats to clients
2025-03-28T09:08:59.631+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:10:35.068+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:10:35.068+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:10:35.105+00:00 [Info] Setting ipv6=false
2025-03-28T09:10:35.135+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:10:35.138+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:10:35.148+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:10:35.148+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:10:35.148+00:00 [Info] Setting log level to Info
2025-03-28T09:10:35.148+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:10:35.148+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:10:35.149+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:10:35.149+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:10:35.188+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:10:36.068+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 57] will report aggregate recorder stats every 5m0s 
2025/03/28 09:10:37 audit: created new audit service
2025-03-28T09:10:37.446+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:10:37.446+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:10:37.447+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:10:37.486+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:10:37.486+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:10:37.486+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:10:37.678+00:00 [Info] security context initialized
2025-03-28T09:10:37.678+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:10:37.678+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:10:37.678+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:10:37.678+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:10:37.678+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:10:37.710+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:10:37.710+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:10:37.710+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:10:37.725+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:10:37.725+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:10:37.726+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:10:37.729+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:10:37.768+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:10:37.805+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:10:37.864+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:10:37.864+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:10:37.864+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:10:37.867+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:10:37.881+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:10:37.881+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:10:37.881+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:10:37.881+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:10:37.908+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 96 us

2025-03-28T09:10:37.906+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:10:37.968+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:10:38.110+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:10:38.111+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:10:38.188+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:10:38.188+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:10:38.188+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:10:38.188+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:10:38.188+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:10:38.194+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:38.194+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:10:38.196+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:10:38.196+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:10:38.196+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:10:38.196+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:10:38.197+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:10:38.208+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 11.236423ms
2025-03-28T09:10:38.213+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:38.213+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:10:38.213+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:10:38.213+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:10:38.214+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:10:38.214+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:10:38.215+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:10:38.215+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:38.226+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:10:38.226+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused from 127.0.0.1:9999
2025-03-28T09:10:38.234+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:10:38.235+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:10:38.235+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:10:38.242+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:10:38.242+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:10:38.246+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:10:38.246+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:10:38.247+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:10:38.247+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:10:38.256+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:10:38.256+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:10:38.261+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:10:38.534+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:10:38.534+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:10:38.540+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:10:38.559+00:00 [Info] internalVersionMonitor:monitor terminate. Internal version reached 7.6.2
2025-03-28T09:10:38.559+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:10:39.246+00:00 [Error] KVSender::closeMutationStream, MAINT_STREAM  Error from Projector Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused
2025-03-28T09:10:39.246+00:00 [Warn] Indexer::closeAllStreams Stream MAINT_STREAM Projector health check needed, indexer can not proceed, Error received Post "http://127.0.0.1:9999/adminport/shutdownTopicRequest": dial tcp 127.0.0.1:9999: connect: connection refused. Retrying (1).
2025-03-28T09:10:44.247+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:44.254+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:10:44.254+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:10:44.254+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:10:44.254+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:44.256+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:10:44.256+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:10:44.256+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:10:44.256+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:10:44.265+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:10:44.268+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:10:44.274+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:10:44.274+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:10:44.275+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:10:44.275+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:10:44.277+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:10:44.283+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:10:44.283+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:10:44.286+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:10:44.286+00:00 [Info] Setting log level to Info
2025-03-28T09:10:44.286+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:10:44.288+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:10:44.288+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:10:44.288+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:10:44.288+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:10:44.288+00:00 [Info] Indexer::ReadMemstats Time Taken 329.211µs
2025-03-28T09:10:44.300+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:10:44.301+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:10:44.301+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:10:44.301+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:10:44.301+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:10:44.301+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:10:44.301+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:10:44.301+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:10:44.301+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:10:44.311+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:10:44.311+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:10:44.311+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:10:44.311+00:00 [Info] progress stats collection done.
2025-03-28T09:10:44.311+00:00 [Info] send progress stats to clients
2025-03-28T09:10:44.311+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:10:44.320+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 17.608775ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T09:11:25.599+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:11:25.600+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:11:25.624+00:00 [Info] Setting ipv6=false
2025-03-28T09:11:25.645+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:11:25.654+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:11:25.662+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:11:25.663+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:11:25.663+00:00 [Info] Setting log level to Info
2025-03-28T09:11:25.664+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:11:25.664+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:11:25.666+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:11:25.666+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:11:25.677+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:11:26.610+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 36] will report aggregate recorder stats every 5m0s 
2025/03/28 09:11:28 audit: created new audit service
2025-03-28T09:11:28.284+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:11:28.284+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:11:28.284+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:11:28.308+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:11:28.309+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:11:28.309+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:11:28.338+00:00 [Info] security context initialized
2025-03-28T09:11:28.338+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:11:28.338+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:11:28.338+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:11:28.338+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:11:28.338+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:11:28.344+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:11:28.344+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:11:28.344+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:11:28.347+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:11:28.359+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:11:28.362+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:11:28.368+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:11:28.370+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:11:28.370+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:11:28.373+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:11:28.373+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:11:28.373+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:11:28.409+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:11:28.409+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:11:28.409+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:11:28.423+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:11:28.429+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:11:28.429+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:11:28.429+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:11:28.430+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:11:28.434+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:11:28.434+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 115 us

2025-03-28T09:11:28.451+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:11:28.488+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:11:28.491+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:11:28.520+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:11:28.520+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:11:28.521+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:11:28.521+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:11:28.521+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:11:28.534+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:28.534+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:11:28.535+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:11:28.535+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:11:28.535+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:11:28.539+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:11:28.539+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:11:28.550+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 11.062692ms
2025-03-28T09:11:28.550+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:28.550+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:11:28.550+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:11:28.550+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:11:28.551+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:11:28.551+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:11:28.551+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:11:28.554+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:28.563+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:11:28.563+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:11:28.563+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:11:28.565+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:11:28.565+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:11:28.571+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:11:28.575+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:11:28.575+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:11:28.575+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:28.576+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:11:28.576+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:11:28.576+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:11:28.576+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:11:28.577+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:11:28.577+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:11:28.591+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:11:28.591+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:11:28.617+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:11:28.617+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:11:28.619+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:11:28.620+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:11:28.621+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:11:28.621+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:11:28.623+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:11:28.632+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:11:28.633+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:11:28.633+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:11:28.635+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:11:28.638+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:11:28.641+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:11:28.641+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:11:28.644+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:11:28.644+00:00 [Info] Setting log level to Info
2025-03-28T09:11:28.644+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:11:28.653+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:11:28.653+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:11:28.661+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:11:28.661+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:11:28.661+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:11:28.661+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:11:28.661+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:11:28.662+00:00 [Info] Indexer::ReadMemstats Time Taken 694.356µs
2025-03-28T09:11:28.663+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:11:28.663+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:11:28.663+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:11:28.663+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:11:28.663+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:11:28.664+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:11:28.664+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:11:28.664+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:11:28.664+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:11:28.667+00:00 [Info] progress stats collection done.
2025-03-28T09:11:28.667+00:00 [Info] send progress stats to clients
2025-03-28T09:11:28.667+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:11:28.673+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 4.615371ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T09:11:31.828+00:00 [Info] IndexManager:ServerAuth auth successful for connection 127.0.0.1:9100:127.0.0.1:53444
2025-03-28T09:11:31.842+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_SERVICE_MAP elapsed 7.894336ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:11:31.844+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CLIENT_STATS elapsed 169.214µs len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:11:31.858+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:38326" doAuth() ...
2025-03-28T09:11:31.859+00:00 [Info] [Queryport ":9101"] connection "127.0.0.1:38326" doReceive() ...
2025-03-28T09:12:10.689+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:12:10.689+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:12:10.712+00:00 [Info] Setting ipv6=false
2025-03-28T09:12:10.730+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:12:10.740+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:12:10.748+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:12:10.748+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:12:10.748+00:00 [Info] Setting log level to Info
2025-03-28T09:12:10.748+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:12:10.748+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:12:10.748+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:12:10.748+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:12:10.755+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:12:11.689+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 67] will report aggregate recorder stats every 5m0s 
2025-03-28T09:12:12.690+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:12:12.691+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:12:12.691+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:12:12 audit: created new audit service
2025-03-28T09:12:12.715+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:12:12.715+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:12:12.715+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:12:12.745+00:00 [Info] security context initialized
2025-03-28T09:12:12.745+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:12:12.745+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:12:12.745+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:12:12.745+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:12:12.745+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:12:12.756+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:12:12.757+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:12:12.757+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:12:12.774+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:12:12.795+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:12:12.800+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:12:12.806+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:12:12.808+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:12:12.809+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:12:12.820+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:12:12.820+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:12:12.820+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:12:12.854+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:12:12.855+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:12:12.855+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:12:12.862+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:12:12.877+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:12:12.877+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:12:12.878+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:12:12.878+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:12:12.882+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:12:12.883+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 109 us

2025-03-28T09:12:12.903+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:12:12.968+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:12:12.970+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:12:13.004+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:12:13.004+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:12:13.004+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:12:13.004+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:12:13.004+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:12:13.005+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:13.005+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:12:13.005+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:12:13.005+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:12:13.005+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:12:13.007+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:12:13.007+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:12:13.034+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 27.530245ms
2025-03-28T09:12:13.035+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:13.035+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:12:13.035+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:12:13.035+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:12:13.035+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:12:13.035+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:12:13.035+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:12:13.036+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:13.056+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:12:13.056+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:12:13.056+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:12:13.056+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:13.057+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:13.057+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:13.057+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:13.058+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:12:13.058+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:12:13.058+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:12:13.058+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:12:13.074+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:12:13.074+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:12:13.076+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:12:13.082+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:12:13.082+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:12:13.088+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:12:13.089+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:12:13.090+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:12:13.095+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:12:13.095+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:12:13.097+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:12:13.098+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:12:13.098+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:12:13.103+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:12:13.104+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:12:13.105+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:13.105+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:12:13.110+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:13.111+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:13.112+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:13.113+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:12:13.114+00:00 [Info] Setting log level to Info
2025-03-28T09:12:13.114+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:12:13.116+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:12:13.116+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:12:13.117+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:12:13.117+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:12:13.118+00:00 [Info] Indexer::ReadMemstats Time Taken 901.974µs
2025-03-28T09:12:13.121+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:12:13.121+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:12:13.121+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:12:13.121+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:12:13.121+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:12:13.121+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:12:13.121+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:12:13.121+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:12:13.122+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:12:13.128+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:12:13.128+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:12:13.128+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:12:13.129+00:00 [Info] progress stats collection done.
2025-03-28T09:12:13.129+00:00 [Info] send progress stats to clients
2025-03-28T09:12:13.129+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:12:13.131+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 6.764252ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 1 error <nil>
2025-03-28T09:12:46.526+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:12:46.526+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:12:46.539+00:00 [Info] Setting ipv6=false
2025-03-28T09:12:46.546+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:12:46.548+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:12:46.552+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:12:46.552+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:12:46.552+00:00 [Info] Setting log level to Info
2025-03-28T09:12:46.552+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:12:46.552+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:12:46.552+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:12:46.552+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:12:46.555+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:12:47.526+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 22] will report aggregate recorder stats every 5m0s 
2025-03-28T09:12:48.626+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025/03/28 09:12:48 audit: created new audit service
2025-03-28T09:12:48.628+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:12:48.628+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:12:48.652+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:12:48.652+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:12:48.652+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:12:48.674+00:00 [Info] security context initialized
2025-03-28T09:12:48.674+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:12:48.674+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:12:48.674+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:12:48.674+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:12:48.674+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:12:48.679+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:12:48.679+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:12:48.679+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:12:48.686+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:12:48.693+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:12:48.695+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:12:48.699+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:12:48.699+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:12:48.705+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:12:48.714+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:12:48.714+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:12:48.715+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:12:48.733+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:12:48.734+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:12:48.735+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:12:48.738+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:12:48.744+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:12:48.744+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:12:48.744+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:12:48.744+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:12:48.746+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:12:48.747+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 136 us

2025-03-28T09:12:48.774+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:12:48.826+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:12:48.828+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:12:48.864+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:12:48.864+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:12:48.864+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:12:48.864+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:12:48.864+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:12:48.866+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:48.866+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:12:48.867+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:12:48.868+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:12:48.868+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:12:48.869+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:12:48.870+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:12:48.886+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 16.489148ms
2025-03-28T09:12:48.886+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:48.886+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:12:48.886+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:12:48.886+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:12:48.887+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:12:48.887+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:12:48.887+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:12:48.888+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:48.892+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:12:48.892+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:12:48.893+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:48.893+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:48.893+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:12:48.894+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:12:48.894+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:12:48.907+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:12:48.907+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:12:48.907+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:12:48.907+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:48.909+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:12:48.909+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:12:48.909+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:12:48.909+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:12:48.910+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:12:48.910+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:12:48.910+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:12:48.914+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:12:48.919+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:12:48.919+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:12:48.920+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:12:48.924+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:12:48.926+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:12:48.930+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:12:48.930+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:12:48.931+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:12:48.931+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:12:48.931+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:12:48.932+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:12:48.936+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:12:48.936+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:12:48.936+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:12:48.936+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:12:48.936+00:00 [Info] progress stats collection done.
2025-03-28T09:12:48.936+00:00 [Info] send progress stats to clients
2025-03-28T09:12:48.937+00:00 [Info] Indexer::ReadMemstats Time Taken 410.033µs
2025-03-28T09:12:48.939+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:48.941+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:48.941+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:12:48.944+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:12:48.944+00:00 [Info] Setting log level to Info
2025-03-28T09:12:48.944+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:12:48.955+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:12:48.955+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:12:48.955+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:12:48.955+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:12:48.955+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:12:48.955+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:12:48.955+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:12:48.955+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:12:48.955+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:12:48.956+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:12:48.961+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:12:48.962+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:12:48.962+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:12:48.963+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 5.565154ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:13:38.334+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:13:38.334+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:13:38.347+00:00 [Info] Setting ipv6=false
2025-03-28T09:13:38.357+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:13:38.360+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:13:38.369+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:13:38.369+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:13:38.369+00:00 [Info] Setting log level to Info
2025-03-28T09:13:38.370+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:13:38.371+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:13:38.371+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:13:38.371+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:13:38.378+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:13:39.335+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 23] will report aggregate recorder stats every 5m0s 
2025/03/28 09:13:39 audit: created new audit service
2025-03-28T09:13:39.409+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:13:39.410+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:13:39.410+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:13:39.443+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:13:39.443+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:13:39.443+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:13:39.468+00:00 [Info] security context initialized
2025-03-28T09:13:39.468+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:13:39.468+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:13:39.468+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:13:39.468+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:13:39.468+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:13:39.475+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:13:39.475+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:13:39.475+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:13:39.478+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:13:39.478+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:13:39.478+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:13:39.481+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:13:39.510+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:13:39.510+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:13:39.512+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:13:39.514+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:13:39.514+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:13:39.528+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:13:39.529+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:13:39.530+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:13:39.531+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:13:39.541+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:13:39.541+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:13:39.541+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:13:39.542+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:13:39.545+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:13:39.554+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 112 us

2025-03-28T09:13:39.580+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:13:39.608+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:13:39.610+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:13:39.637+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:13:39.637+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:13:39.637+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:13:39.637+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:13:39.637+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:13:39.645+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:13:39.645+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:13:39.646+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:13:39.646+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:13:39.646+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:13:39.647+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:13:39.648+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:13:39.666+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 18.347094ms
2025-03-28T09:13:39.666+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:13:39.666+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:13:39.667+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:13:39.667+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:13:39.667+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:13:39.667+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:13:39.669+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:13:39.670+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:13:39.687+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:13:39.687+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:13:39.687+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:13:39.687+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:13:39.688+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:13:39.688+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:13:39.688+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:13:39.688+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:13:39.691+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:13:39.691+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:13:39.701+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:13:39.701+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:13:39.703+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:13:39.705+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:13:39.705+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:13:39.706+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:13:39.706+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T09:13:39.711+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:13:39.712+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:13:39.724+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:13:39.727+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:13:39.738+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:13:39.738+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:13:39.740+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:13:39.740+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:13:39.741+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:13:39.742+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:13:39.742+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:13:39.743+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:13:39.743+00:00 [Info] Setting log level to Info
2025-03-28T09:13:39.743+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:13:39.761+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:13:39.761+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:13:39.764+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:13:39.764+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:13:39.765+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:13:39.765+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:13:39.766+00:00 [Info] Indexer::ReadMemstats Time Taken 832.163µs
2025-03-28T09:13:39.779+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:13:39.779+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:13:39.779+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:13:39.779+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:13:39.779+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:13:39.779+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:13:39.779+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:13:39.779+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:13:39.779+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:13:39.781+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:13:39.781+00:00 [Info] progress stats collection done.
2025-03-28T09:13:39.781+00:00 [Info] send progress stats to clients
2025-03-28T09:13:39.781+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:13:39.788+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 3.868294ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:13:40.688+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:13:40.688+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:13:40.688+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:13:40.688+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:13:40.688+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:13:40.689+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:13:40.689+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:14:58.571+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:14:58.571+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:14:58.632+00:00 [Info] Setting ipv6=false
2025-03-28T09:14:58.657+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:14:58.708+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:14:58.725+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:14:58.725+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:14:58.725+00:00 [Info] Setting log level to Info
2025-03-28T09:14:58.725+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:14:58.725+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:14:58.726+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:14:58.726+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:14:58.760+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:14:59.577+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 21] will report aggregate recorder stats every 5m0s 
2025-03-28T09:15:00.160+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:15:00.160+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:15:00.161+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:15:00 audit: created new audit service
2025-03-28T09:15:00.273+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:00.273+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:15:00.274+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:15:01.439+00:00 [Info] security context initialized
2025-03-28T09:15:01.439+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:15:01.439+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:15:01.439+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:15:01.439+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:15:01.439+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:15:01.445+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:15:01.445+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:15:01.445+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:15:01.449+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:15:01.457+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:15:01.459+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:15:01.459+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:15:01.459+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:15:01.460+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:15:01.469+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:15:01.469+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:15:01.471+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:15:01.524+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:15:01.525+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:15:01.526+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:15:01.529+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:15:01.535+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:15:01.535+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:15:01.536+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:15:01.537+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:15:01.545+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:15:01.547+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 222 us

2025-03-28T09:15:01.569+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:15:01.631+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:15:01.634+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:15:01.670+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:15:01.671+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:15:01.672+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:15:01.672+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:15:01.673+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:15:01.674+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:01.674+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:15:01.675+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:15:01.676+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:15:01.676+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:15:01.676+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:15:01.677+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:15:01.690+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 13.367675ms
2025-03-28T09:15:01.690+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:01.690+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:15:01.690+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:15:01.690+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:15:01.691+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:15:01.691+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:15:01.691+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:15:01.693+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:01.697+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:01.697+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:01.697+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:01.697+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:15:01.697+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:15:01.705+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:15:01.705+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:15:01.705+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:15:01.706+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:01.708+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:15:01.709+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:15:01.709+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:15:01.708+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:15:01.710+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:15:01.711+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:15:01.712+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:15:01.712+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:15:01.729+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:15:01.731+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:15:01.735+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:15:01.736+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:15:01.736+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:01.740+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:15:01.741+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:15:01.741+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:15:01.741+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:15:01.741+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:15:01.741+00:00 [Info] progress stats collection done.
2025-03-28T09:15:01.741+00:00 [Info] send progress stats to clients
2025-03-28T09:15:01.742+00:00 [Info] Indexer::ReadMemstats Time Taken 1.12059ms
2025-03-28T09:15:01.753+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:15:01.753+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:15:01.758+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:15:01.758+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:15:01.758+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:15:01.759+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:01.763+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:01.765+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:01.767+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:15:01.767+00:00 [Info] Setting log level to Info
2025-03-28T09:15:01.767+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:15:01.769+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:15:01.776+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:15:01.776+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:15:01.776+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:15:01.776+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:15:01.776+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:15:01.776+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:15:01.776+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:15:01.776+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:15:01.776+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:15:01.777+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:15:01.784+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 4.379952ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:15:01.787+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:15:01.787+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:15:47.027+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:15:47.028+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:15:47.045+00:00 [Info] Setting ipv6=false
2025-03-28T09:15:47.079+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:15:47.082+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:15:47.086+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:15:47.086+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:15:47.086+00:00 [Info] Setting log level to Info
2025-03-28T09:15:47.086+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:15:47.086+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:15:47.086+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:15:47.086+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:15:47.092+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:15:48.028+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 67] will report aggregate recorder stats every 5m0s 
2025-03-28T09:15:48.972+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:15:48.972+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:15:48.973+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:15:48 audit: created new audit service
2025-03-28T09:15:49.019+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:15:49.019+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:15:49.019+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:15:49.073+00:00 [Info] security context initialized
2025-03-28T09:15:49.073+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:15:49.073+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:15:49.073+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:15:49.073+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:15:49.073+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:15:49.081+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:15:49.081+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:15:49.081+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:15:49.101+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:15:49.104+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:15:49.105+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:15:49.110+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:15:49.110+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:15:49.111+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:15:49.115+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:15:49.113+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:15:49.117+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:15:49.153+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:15:49.154+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:15:49.156+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:15:49.157+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:15:49.167+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:15:49.168+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:15:49.168+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:15:49.168+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:15:49.173+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:15:49.176+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 240 us

2025-03-28T09:15:49.194+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:15:49.437+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:15:49.459+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:15:49.508+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:15:49.509+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:15:49.509+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:15:49.509+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:15:49.509+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:15:49.511+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:49.512+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:15:49.520+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:15:49.521+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:15:49.521+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:15:49.523+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:15:49.524+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:15:49.533+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 9.403143ms
2025-03-28T09:15:49.533+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:49.533+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:15:49.533+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:15:49.533+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:15:49.533+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:15:49.534+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:15:49.534+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:15:49.535+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:49.552+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:15:49.555+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:15:49.559+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:15:49.559+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:15:49.559+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:15:49.559+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:49.560+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:15:49.560+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:15:49.560+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:15:49.560+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:15:49.562+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:15:49.562+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:15:49.578+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:15:49.578+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T09:15:49.583+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:15:49.583+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:15:49.588+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:15:49.590+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:15:49.591+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:15:49.596+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:15:49.601+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:15:49.606+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:15:49.606+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:15:49.608+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:15:49.612+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:15:49.627+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:15:49.628+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:15:49.632+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:15:49.633+00:00 [Info] progress stats collection done.
2025-03-28T09:15:49.633+00:00 [Info] send progress stats to clients
2025-03-28T09:15:49.633+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:15:49.633+00:00 [Info] Indexer::ReadMemstats Time Taken 495.539µs
2025-03-28T09:15:49.637+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:15:49.638+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:49.639+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:49.639+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:15:49.640+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:15:49.640+00:00 [Info] Setting log level to Info
2025-03-28T09:15:49.640+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:15:49.645+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:15:49.645+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:15:49.645+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:15:49.646+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:15:49.646+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:15:49.646+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:15:49.646+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:15:49.646+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:15:49.646+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:15:49.652+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:15:49.655+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:15:49.655+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:15:49.663+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 12.064653ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:15:50.546+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:50.547+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:50.547+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:15:50.547+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:15:50.547+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:15:50.562+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:15:50.562+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:16:25.204+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:16:25.205+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:16:25.212+00:00 [Info] Setting ipv6=false
2025-03-28T09:16:25.217+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:16:25.220+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:16:25.228+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:16:25.229+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:16:25.229+00:00 [Info] Setting log level to Info
2025-03-28T09:16:25.229+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:16:25.229+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:16:25.229+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:16:25.229+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:16:25.233+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025-03-28T09:16:26.204+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 41] will report aggregate recorder stats every 5m0s 
2025-03-28T09:16:26.696+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:16:26.696+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:16:26.696+00:00 [Info] TLS config refreshed successfully
2025/03/28 09:16:26 audit: created new audit service
2025-03-28T09:16:26.730+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:16:26.730+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:16:26.730+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:16:26.774+00:00 [Info] security context initialized
2025-03-28T09:16:26.775+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:16:26.775+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:16:26.775+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:16:26.775+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:16:26.775+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:16:26.782+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:16:26.782+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:16:26.783+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:16:26.784+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:16:26.784+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:16:26.785+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:16:26.790+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:16:26.792+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:16:26.821+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:16:26.843+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:16:26.843+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:16:26.860+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:16:26.915+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:16:26.916+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:16:26.916+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:16:26.920+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:16:26.923+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:16:26.923+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:16:26.923+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:16:26.923+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:16:26.928+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:16:26.928+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 256 us

2025-03-28T09:16:26.939+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:16:26.971+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:16:26.977+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:16:27.010+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:16:27.010+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:16:27.010+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:16:27.010+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:16:27.011+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:16:27.017+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:27.017+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:16:27.017+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:16:27.017+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:16:27.018+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:16:27.018+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:16:27.018+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:16:27.030+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 12.121466ms
2025-03-28T09:16:27.031+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:27.031+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:16:27.031+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:16:27.031+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:16:27.032+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:16:27.032+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:16:27.032+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:16:27.033+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:27.039+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:16:27.039+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:16:27.039+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:16:27.040+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:27.040+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:16:27.040+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:16:27.040+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:16:27.040+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:16:27.041+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:16:27.041+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:16:27.041+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:16:27.044+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:16:27.044+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:16:27.046+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:16:27.046+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:16:27.052+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:16:27.052+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:16:27.057+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:16:27.060+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:16:27.060+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:16:27.061+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:16:27.062+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:16:27.063+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:16:27.063+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:16:27.067+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:16:27.067+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:16:27.067+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:16:27.068+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:16:27.077+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:16:27.077+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:16:27.077+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:16:27.078+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:16:27.078+00:00 [Info] progress stats collection done.
2025-03-28T09:16:27.078+00:00 [Info] send progress stats to clients
2025-03-28T09:16:27.079+00:00 [Info] Indexer::ReadMemstats Time Taken 1.733938ms
2025-03-28T09:16:27.087+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:16:27.088+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:16:27.088+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:16:27.089+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:16:27.089+00:00 [Info] Setting log level to Info
2025-03-28T09:16:27.089+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:16:27.091+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
2025-03-28T09:16:27.097+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:16:27.097+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:16:27.097+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:16:27.097+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:16:27.098+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:16:27.098+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:16:27.098+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:16:27.098+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:16:27.098+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:16:27.098+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:16:27.098+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:16:27.100+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:16:27.105+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 5.162512ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:17:09.141+00:00 [Info] Indexer started with command line: [/opt/couchbase/bin/indexer -adminPort=9100 -scanPort=9101 -httpPort=9102 -streamInitPort=9103 -streamCatchupPort=9104 -streamMaintPort=9105 --httpsPort=19102 --certFile=/opt/couchbase/var/lib/couchbase/config/certs/chain.pem --keyFile=/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem --caFile=/opt/couchbase/var/lib/couchbase/config/certs/ca.pem --clientCertFile=/opt/couchbase/var/lib/couchbase/config/certs/client_chain.pem --clientKeyFile=/opt/couchbase/var/lib/couchbase/config/certs/client_pkey.pem -ipv4=required -ipv6=optional -cluster=127.0.0.1:8091 -storageDir=/opt/couchbase/var/lib/couchbase/data/@2i -diagDir=/opt/couchbase/var/lib/couchbase/crash -logDir=/opt/couchbase/var/lib/couchbase/logs -nodeUUID=e3a8c7b6158b0ad6e38567be3e233d9b -isEnterprise=true --deploymentModel=default]
2025-03-28T09:17:09.141+00:00 [Info] Indexer DeploymentModel is set to: default
2025-03-28T09:17:09.150+00:00 [Info] Setting ipv6=false
2025-03-28T09:17:09.159+00:00 [Info] Indexer::NewIndexer Status Warmup
2025-03-28T09:17:09.162+00:00 [Info] IndexerSettingsManager: Setting numSliceWriters to 4 cgroup.max_cpu_percent: 400 runtime.NumCPU: 400
2025-03-28T09:17:09.166+00:00 [Info] Setting buffer block size to 16384 bytes
2025-03-28T09:17:09.166+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:17:09.166+00:00 [Info] Setting log level to Info
2025-03-28T09:17:09.166+00:00 [Warn] SetCICLMgrTimeDiffToForceFetch: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:17:09.166+00:00 [Warn] SetCICLMgrSleepTimeOnNotifierRestart: Singleton Manager in ClusterInfoCacheLite is not set
2025-03-28T09:17:09.166+00:00 [Info] CpuThrottle::SetCpuTarget: New cpuTarget: 0.95
2025-03-28T09:17:09.166+00:00 [Info] audit::InitAuditService using address http://127.0.0.1:8091
2025-03-28T09:17:09.170+00:00 [Info] SettingsMgr::metaKVCallback Dropped request /indexing/settings/config {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}. Any setting change will get applied once Indexer is ready.
2025/03/28 09:17:10 audit: created new audit service
2025-03-28T09:17:10.011+00:00 [Info] InitSystemEventLogger: Started SystemEventLogger
2025-03-28T09:17:10.012+00:00 [Info] Receive security change notification. code 15
2025-03-28T09:17:10.012+00:00 [Info] TLS config refreshed successfully
2025-03-28T09:17:10.029+00:00 [Info] Certificate refreshed successfully with certFile /opt/couchbase/var/lib/couchbase/config/certs/chain.pem, keyFile /opt/couchbase/var/lib/couchbase/config/certs/pkey.pem, caFile /opt/couchbase/var/lib/couchbase/config/certs/ca.pem
2025-03-28T09:17:10.029+00:00 [Info] Encryption config refresh successfully.   Encryption enabled=false
2025-03-28T09:17:10.029+00:00 [Info] security context:  encryptLocalHost true Local IP's: map[127.0.0.1:true 172.18.0.2:true ::1:true]
2025-03-28T09:17:10.055+00:00 [Info] security context initialized
2025-03-28T09:17:10.055+00:00 [Info] security port mapping updated : map[11210:11207 8091:18091 8093:18093 9100:9100 9101:9101 9102:19102 9103:9103 9104:9104 9105:9105 9999:9999]
2025-03-28T09:17:10.055+00:00 [Info] Indexer::NewIndexer Build Mode Set Enterprise
2025-03-28T09:17:10.055+00:00 [Info] Indexer::Cluster Storage Mode Set plasma
2025-03-28T09:17:10.055+00:00 [Info] memcachedTimeout set to 120
2025-03-28T09:17:10.055+00:00 [Info] Indexer::NewIndexer done initializing from config
2025-03-28T09:17:10.063+00:00 [Info] SetMajorVersionCICL: Setting cluster version to 7
2025-03-28T09:17:10.063+00:00 [Info] newClusterInfoCacheLiteManager: started New clusterInfoCacheManager
2025-03-28T09:17:10.063+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for indexer
2025-03-28T09:17:10.064+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:17:10.064+00:00 [Info] MutationMgr::checkPortAvailability for dataport servers ...
2025-03-28T09:17:10.065+00:00 [Info] MutationMgr::checkPortAvailability all dataport server ports are available.
2025-03-28T09:17:10.068+00:00 [Warn] PollForDeletedBucketsV2: Falling back to pollForDeletedBuckets() as use_cinfo_lite is false or not present
2025-03-28T09:17:10.073+00:00 [Info] serviceChangeNotifier: Creating new notifier instance for http://%40index@127.0.0.1:8091-default
2025-03-28T09:17:10.085+00:00 [Info] Terminating WatchClusterVersionChanges: Cluster version is >= 9
2025-03-28T09:17:10.090+00:00 [Info] serviceChangeNotifier: received ServiceChangeNotification
2025-03-28T09:17:10.100+00:00 [Info] serviceChangeNotifier: Starting to monitor the bucket streaming endpoint for bucket: UsersBDD
2025-03-28T09:17:10.100+00:00 [Info] serviceChangeNotifier: received PoolChangeNotification
2025-03-28T09:17:10.119+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:17:10.119+00:00 [Info] OperationsMonitor(kvSender) starting monitor ...
2025-03-28T09:17:10.120+00:00 [Info] [Queryport ":9101"] started ...
2025-03-28T09:17:10.123+00:00 [Info] Unable to fetch storage mode from metakv during bootrap.  Use storage mode setting for bootstrap
2025-03-28T09:17:10.126+00:00 [Info] Indexer::NewIndexer bootstrap storage mode plasma
2025-03-28T09:17:10.127+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for IndexMgr
2025-03-28T09:17:10.127+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for RequestHandler
2025-03-28T09:17:10.127+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for LifecycleMgr
2025-03-28T09:17:10.130+00:00 [Info] Starting metadadta repo: quota 1048576 sleep duration 900 threshold 30 min file size 0
2025-03-28T09:17:10.133+00:00 [INFO][FDB] Forestdb blockcache size 1048576 initialized in 356 us

2025-03-28T09:17:10.141+00:00 DEBU REGU.impl.init.0.func1() at aggrecorder.go:57 [id 25] will report aggregate recorder stats every 5m0s 
2025-03-28T09:17:10.151+00:00 [INFO][FDB] Forestdb opened database file /opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore.0
2025-03-28T09:17:10.192+00:00 [Info] Repo.upgradeAndOpenDBFile(/opt/couchbase/var/lib/couchbase/data/@2i/MetadataStore): Opened with COMPACT_AUTO mode
2025-03-28T09:17:10.195+00:00 [Info] EmbeddedServer.runOnce() : Start Running Server
2025-03-28T09:17:10.221+00:00 [Info] indexer:: Staring http server : :9102
2025-03-28T09:17:10.221+00:00 [Info] HTTPS server created for :19102
2025-03-28T09:17:10.221+00:00 [Info] indexer:: SSL server started: :19102
2025-03-28T09:17:10.221+00:00 [Info] Indexer::indexer version 9 with priority 7.6.4
2025-03-28T09:17:10.221+00:00 [Info] ClustMgr:handleGetLocalValue Key IndexerId
2025-03-28T09:17:10.222+00:00 [Info] Indexer Id e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:10.222+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceRunning
2025-03-28T09:17:10.222+00:00 [Info] ClustMgr:handleGetLocalValue Key RebalanceToken
2025-03-28T09:17:10.222+00:00 [Info] Indexer::recoverRebalanceState RebalanceRunning false RebalanceToken <nil>
2025-03-28T09:17:10.222+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseResumeRunning
2025-03-28T09:17:10.223+00:00 [Info] ClustMgr:handleGetLocalValuesWithPrefix Key PauseToken
2025-03-28T09:17:10.223+00:00 [Info] ClustMgr:handleGetGlobalTopology indexInstMap : 
2025-03-28T09:17:10.237+00:00 [Info] Indexer::initFromPersistedState Recovered IndexInstMap 
, elapsed: 14.261316ms
2025-03-28T09:17:10.237+00:00 [Info] DDLServiceMgr: intialized. Local nodeUUID e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:10.237+00:00 [Info] NewClusterInfoCacheLiteClient started new cicl client for schedIndexCreator
2025-03-28T09:17:10.238+00:00 [Info] schedIndexCreator: intialized.
2025-03-28T09:17:10.238+00:00 [Info] RebalanceServiceManager::NewRebalanceServiceManager false <nil> 
2025-03-28T09:17:10.238+00:00 [Info] DDLServiceMgr::runTokenCleaner: Starting with period 5m0s
2025-03-28T09:17:10.238+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:10.239+00:00 [Info] MasterServiceManager::registerWithServer: *indexer.MasterServiceManager implements service.AutofailoverManager; *indexer.MasterServiceManager implements service.Manager; *indexer.MasterServiceManager implements service.ServerlessManager
2025-03-28T09:17:10.238+00:00 [Info] RebalanceServiceManager::initService Init
2025-03-28T09:17:10.243+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: []
2025-03-28T09:17:10.244+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [] call. taskList: &{Rev:[0 0 0 0 0 0 0 0] Tasks:[]}
2025-03-28T09:17:10.244+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic MAINT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:17:10.244+00:00 [Error] KVSender::closeMutationStream MAINT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:17:10.244+00:00 [Info] KVSender::closeMutationStream MAINT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:17:10.245+00:00 [Info] KVSender::sendShutdownTopic Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:10.247+00:00 [Info] RebalanceServiceManager::GetCurrentTopology []
2025-03-28T09:17:10.247+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 0] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:17:10.251+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 0]
2025-03-28T09:17:10.251+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 0]
2025-03-28T09:17:10.252+00:00 [Info] requestHandlerContext::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:17:10.258+00:00 [Info] RebalanceServiceManager::getCachedIndexerNodeUUIDs: Returning 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:17:10.258+00:00 [Info] RebalanceServiceManager::updateNodeList: Initialized with 1 NodeUUIDs: [e3a8c7b6158b0ad6e38567be3e233d9b]
2025-03-28T09:17:10.258+00:00 [Info] GenericServiceManager::GetTaskList: return from rev [0 0 0 0 0 0 0 0] call. taskList: &{Rev:[0 0 0 0 0 0 0 1] Tasks:[]}
2025-03-28T09:17:10.258+00:00 [Info] RebalanceServiceManager::GetCurrentTopology returns &{Rev:[0 0 0 0 0 0 0 1] Nodes:[e3a8c7b6158b0ad6e38567be3e233d9b] IsBalanced:true Messages:[]}
2025-03-28T09:17:10.259+00:00 [Error] KVSender::sendShutdownTopic Unexpected Error During Shutdown Projector 127.0.0.1:9999 Topic INIT_STREAM_TOPIC_e3a8c7b6158b0ad6e38567be3e233d9b. Err projector.topicMissing
2025-03-28T09:17:10.259+00:00 [Error] KVSender::closeMutationStream INIT_STREAM  Error Received projector.topicMissing from 127.0.0.1:9999
2025-03-28T09:17:10.259+00:00 [Info] KVSender::closeMutationStream INIT_STREAM  Treating projector.topicMissing As Success
2025-03-28T09:17:10.259+00:00 [Info] ClustMgr:handleUpdateTopologyForIndex mType: CLUST_MGR_UPDATE_TOPOLOGY_FOR_INDEX indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:17:10.260+00:00 [Info] GenericServiceManager::GetTaskList: called with rev: [0 0 0 0 0 0 0 1]
2025-03-28T09:17:10.274+00:00 [Info] RebalanceServiceManager::GetCurrentTopology [0 0 0 0 0 0 0 1]
2025-03-28T09:17:10.279+00:00 [Info] indexer.upgradeStorage: check index for storage upgrade.   disable false overrride not_set
2025-03-28T09:17:10.284+00:00 [Info] Indexer::local storage mode plasma
2025-03-28T09:17:10.296+00:00 [Info] internalVersionMonitor:monitor starting. Term versions (9:7.0.4)
2025-03-28T09:17:10.296+00:00 [Info] internalVersionMonitor:ticker starting ...
2025-03-28T09:17:10.299+00:00 [Info] internalVersionMonitor:notifier starting ...
2025-03-28T09:17:10.299+00:00 [Info] ClustMgr:handleIndexerReady mType: CLUST_MGR_INDEXER_READY indexList: [] bucket:  scope:  collection:  streamId: NIL_STREAM syncUpdate: false respCh: <nil> 
2025-03-28T09:17:10.299+00:00 [Info] SettingsMgr::handleIndexerReady apply pending setting changes
2025-03-28T09:17:10.299+00:00 [Info] ClustMgr:handleSetLocalValue Key IndexerNodeUUID Value e3a8c7b6158b0ad6e38567be3e233d9b
2025-03-28T09:17:10.300+00:00 [Info] RebalanceServiceManager::listenMoveIndex &{e3a8c7b6158b0ad6e38567be3e233d9b 7060400 <nil>}
2025-03-28T09:17:10.304+00:00 [Info] Indexer::NewIndexer Status Active
2025-03-28T09:17:10.304+00:00 [Info] 127.0.0.1:8091 starting RESTful services
2025-03-28T09:17:10.304+00:00 [Info] Indexer::monitorMemUsage started...
2025-03-28T09:17:10.304+00:00 [Info] memstats {"Alloc":0, "TotalAlloc":0, "Sys":0, "Lookups":0, "Mallocs":0,"Frees":0, "HeapAlloc":0, "HeapSys":0, "HeapIdle":0, "HeapInuse":0,"HeapReleased":0, "HeapObjects":0,"MSpanInuse":0, "MSpanSys": 0, "StackInuse": 0,"GCSys":0, "LastGC":0,"PauseTotalNs":0, "PauseNs":[], "NumGC":0}
2025-03-28T09:17:10.304+00:00 [Info] progress stats collection done.
2025-03-28T09:17:10.304+00:00 [Info] send progress stats to clients
2025-03-28T09:17:10.305+00:00 [Info] Indexer::ReadMemstats Time Taken 862.762µs
2025-03-28T09:17:10.305+00:00 [Info] internalVersionMonitor:monitor terminate. Cluster version reached 9
2025-03-28T09:17:10.303+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config, value: 
{"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:17:10.306+00:00 [Info] internalVersionMonitor:ticker stopping ...
2025-03-28T09:17:10.316+00:00 [Info] MapSettings: config before mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:17:10.317+00:00 [Info] MapSettings: config after mapping: {"indexer.plasma.backIndex.enablePageBloomFilter":true,"indexer.settings.allow_large_keys":true,"indexer.settings.bufferPoolBlockSize":16384,"indexer.settings.build.batch_size":5,"indexer.settings.compaction.abort_exceed_interval":false,"indexer.settings.compaction.check_period":30,"indexer.settings.compaction.compaction_mode":"circular","indexer.settings.compaction.days_of_week":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday","indexer.settings.compaction.interval":"00:00,00:00","indexer.settings.compaction.min_frag":30,"indexer.settings.compaction.min_size":524288000,"indexer.settings.compaction.plasma.manual":false,"indexer.settings.compaction.plasma.optional.decrement":5,"indexer.settings.compaction.plasma.optional.min_frag":20,"indexer.settings.compaction.plasma.optional.quota":25,"indexer.settings.corrupt_index_num_backups":1,"indexer.settings.cpuProfDir":"","indexer.settings.cpuProfile":false,"indexer.settings.defer_build":false,"indexer.settings.eTagPeriod":240,"indexer.settings.enable_corrupt_index_backup":false,"indexer.settings.enable_page_bloom_filter":true,"indexer.settings.enable_shard_affinity":false,"indexer.settings.fast_flush_mode":true,"indexer.settings.gc_percent":100,"indexer.settings.inmemory_snapshot.fdb.interval":200,"indexer.settings.inmemory_snapshot.interval":200,"indexer.settings.inmemory_snapshot.moi.interval":10,"indexer.settings.largeSnapshotThreshold":200,"indexer.settings.log_level":"info","indexer.settings.maxNumPartitions":64,"indexer.settings.maxVbQueueLength":0,"indexer.settings.max_array_seckey_size":10240,"indexer.settings.max_cpu_percent":0,"indexer.settings.max_seckey_size":4608,"indexer.settings.max_writer_lock_prob":20,"indexer.settings.memProfDir":"","indexer.settings.memProfile":false,"indexer.settings.memory_quota":268435456,"indexer.settings.minVbQueueLength":30,"indexer.settings.moi.debug":false,"indexer.settings.moi.persistence_threads":2,"indexer.settings.moi.recovery.max_rollbacks":2,"indexer.settings.moi.recovery_threads":4,"indexer.settings.num_replica":0,"indexer.settings.percentage_memory_quota":0,"indexer.settings.persisted_snapshot.fdb.interval":5000,"indexer.settings.persisted_snapshot.interval":5000,"indexer.settings.persisted_snapshot.moi.interval":600000,"indexer.settings.persisted_snapshot_init_build.fdb.interval":5000,"indexer.settings.persisted_snapshot_init_build.interval":5000,"indexer.settings.persisted_snapshot_init_build.moi.interval":600000,"indexer.settings.plasma.recovery.max_rollbacks":2,"indexer.settings.rebalance.blob_storage_bucket":"","indexer.settings.rebalance.blob_storage_prefix":"","indexer.settings.rebalance.blob_storage_region":"","indexer.settings.rebalance.blob_storage_scheme":"","indexer.settings.rebalance.redistribute_indexes":false,"indexer.settings.recovery.max_rollbacks":2,"indexer.settings.scan_getseqnos_retries":30,"indexer.settings.scan_timeout":120000,"indexer.settings.send_buffer_size":1024,"indexer.settings.serverless.indexLimit":201,"indexer.settings.sliceBufSize":800,"indexer.settings.smallSnapshotThreshold":30,"indexer.settings.snapshotListeners":2,"indexer.settings.snapshotRequestWorkers":2,"indexer.settings.statsLogDumpInterval":60,"indexer.settings.storage_mode":"plasma","indexer.settings.storage_mode.disable_upgrade":false,"indexer.settings.thresholds.mem_high":70,"indexer.settings.thresholds.mem_low":50,"indexer.settings.thresholds.units_high":60,"indexer.settings.thresholds.units_low":40,"indexer.settings.units_quota":10000,"indexer.settings.wal_size":4096,"projector.settings.log_level":"info","queryport.client.settings.backfillLimit":5120,"queryport.client.settings.closeActiveConnections":true,"queryport.client.settings.minPoolSizeWM":1000,"queryport.client.settings.poolOverflow":30,"queryport.client.settings.poolSize":5000,"queryport.client.settings.relConnBatchSize":100}
2025-03-28T09:17:10.319+00:00 [Info] settingsManager::setGlobalSettings: Indexer # CPU cores: 4, memory quota: 268435456 bytes (262144.000 KB, 256.000 MB, 0.250 GB)
2025-03-28T09:17:10.319+00:00 [Info] Setting log level to Info
2025-03-28T09:17:10.319+00:00 [Info] SettingsManager::applySettings Updating 'plasma.minNumShard' setting to: 2
2025-03-28T09:17:10.337+00:00 [Info] Indexer::updateStorageMode Try setting storage mode to plasma
2025-03-28T09:17:10.337+00:00 [Info] Indexer: Setting GC percent to 100
2025-03-28T09:17:10.337+00:00 [Info] CompactionManager: Refreshing settings
2025-03-28T09:17:10.337+00:00 [Info] StreamState::UpdateConfig 30
2025-03-28T09:17:10.337+00:00 [Info] Timekeeper::setMaxTsQueueLen 1000
2025-03-28T09:17:10.337+00:00 [Info] MutationMgr::MaxQueueMemoryQuota 2684354
2025-03-28T09:17:10.337+00:00 [Info] mutationMgr::setEnableAuth: enableAuth set to 1
2025-03-28T09:17:10.337+00:00 [Info] MutationManager::setMinVbQueueLength 30
2025-03-28T09:17:10.337+00:00 [Info] ClustMgr:handleConfigUpdate
2025-03-28T09:17:10.337+00:00 [Info] settingsManager::applySettings: New settings received on path: /indexing/settings/config/features/ShardAffinity, value: 
2025-03-28T09:17:10.337+00:00 [Warn] settingsManager::applySettings: Empty value found for /indexing/settings/config/features/ShardAffinity. Will skip processing...
2025-03-28T09:17:10.338+00:00 [Info] ShardTransferManager::ConfigUpdate - Updating maxDiskBw to 209715200, prev value: 0
2025-03-28T09:17:10.347+00:00 [Info] lifecycleMgr.dispatchRequest: op OPCODE_CONFIG_UPDATE elapsed 4.694435ms len(expediates) 0 len(incomings) 0 len(outgoings) 0 len(parallels) 0 error <nil>
2025-03-28T09:17:10.350+00:00 [Info] updator: updating service map.  server group=Group 1, indexerVersion=9 nodeAddr 127.0.0.1:8091 clusterVersion 9 excludeNode  storageMode 2
