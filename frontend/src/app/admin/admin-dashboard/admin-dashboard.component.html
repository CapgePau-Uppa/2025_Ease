<!-- 
  Admin Dashboard Main Container
  This is the root container for the entire admin dashboard interface.
  It contains the header, error messages, loading indicators, and dashboard content.
-->
<div class="admin-dashboard">
  <!-- 
    Dashboard Header Section
    Contains the dashboard title and user role information.
  -->
  <header class="dashboard-header">
    <h1>Dashboard Administrateur</h1>
    <div class="user-info">
      <i class="fas fa-user-shield"></i>
      <span>Admin</span>
    </div>
  </header>

  <!-- 
    Error Message Component
    Displays error messages with a retry button.
    Only visible when errorMessage property contains text.
  -->
  <div class="error-message" *ngIf="errorMessage">
    <div class="error-content">
      <i class="fas fa-exclamation-triangle"></i>
      <span>{{ errorMessage }}</span>
    </div>
    <button class="retry-btn" (click)="retryLoading()">
      <i class="fas fa-sync-alt"></i> Réessayer
    </button>
  </div>

  <!-- 
    Loading Indicator Component
    Shows loading progress with a progress bar and descriptive text.
    Only visible when isLoading property is true.
  -->
  <div class="loading-container" *ngIf="isLoading">
    <div class="loading-indicator">
      <i class="fas fa-spinner fa-spin"></i>
      <span>{{ loadingText }}</span>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar" [style.width.%]="loadingProgress"></div>
    </div>
    <div class="progress-text">{{ loadingProgress }}%</div>
  </div>

  <!-- 
    Main Dashboard Content
    Contains statistics, action buttons, and activity tables.
    Only visible when isLoading property is false.
  -->
  <div class="dashboard-content" *ngIf="!isLoading">
    <!-- 
      Statistics Grid Section
      Displays key metrics in card format.
      Currently shows only user statistics.
    -->
    <div class="stats-grid">
      <!-- User Statistics Card -->
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
          <h3>Utilisateurs</h3>
          <p class="stat-number">{{ userCount }}</p>
        </div>
      </div>

      <!-- Product and category cards have been removed as requested -->
    </div>

    <!-- 
      Action Buttons Section
      Contains buttons for primary administrative actions.
    -->
    <div class="action-buttons">
      <!-- User Management Button -->
      <button class="admin-btn" routerLink="/admin/users">
        <i class="fas fa-user-plus"></i>
        Gérer les utilisateurs
      </button>

      <!-- Add Product Button -->
      <button class="admin-btn" routerLink="/add-product">
        <i class="fas fa-plus-circle"></i>
        Ajouter un produit
      </button>

      <!-- Settings button has been removed as requested -->

      <!-- Home Navigation Button -->
      <button class="admin-btn home-btn" routerLink="/home">
        <i class="fas fa-home"></i>
        Retour à l'accueil
      </button>
    </div>

    <!-- 
      Recent Activity Section
      Displays a table of recent administrative actions.
      Currently shows a placeholder message when no activities exist.
    -->
    <div class="recent-activity">
      <h2>Activités récentes</h2>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Utilisateur</th>
            <th>Action</th>
            <th>Détails</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="4" class="no-data">Aucune activité récente</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>